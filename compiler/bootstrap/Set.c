
// this is autogenerated file, do not edit it.
#include "ficus/ficus.h"

struct _fx_Vt11Set__tree_t1S_data_t;
static void _fx_free_Vt11Set__tree_t1S(struct _fx_Vt11Set__tree_t1S_data_t** dst);

struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t;
static void _fx_free_Vt11Set__tree_t1V9Ast__id_t(struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t** dst);

typedef enum {
   _FX_V9Ast__id_t_IdName=1, _FX_V9Ast__id_t_IdVal=2, _FX_V9Ast__id_t_IdTemp=3
} _fx_V9Ast__id_t_tag_t;

typedef struct _fx_Ta2i  { int_ t0; int_ t1; } _fx_Ta2i;

typedef struct _fx_V9Ast__id_t  { int tag; union  { int_ IdName; _fx_Ta2i IdVal; _fx_Ta2i IdTemp; } u; } _fx_V9Ast__id_t;

typedef struct _fx_LV9Ast__id_t_data_t  { int_ rc; struct _fx_LV9Ast__id_t_data_t* tl; _fx_V9Ast__id_t hd;
   } _fx_LV9Ast__id_t_data_t, *_fx_LV9Ast__id_t;

typedef struct _fx_FPi2V9Ast__id_tV9Ast__id_t  { int (*fp)(_fx_V9Ast__id_t*, _fx_V9Ast__id_t*, int_*, void*); fx_fcv_t* fcv;
   } _fx_FPi2V9Ast__id_tV9Ast__id_t;

typedef struct _fx_Rt6Set__t1V9Ast__id_t
   { struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* root; int_ size; _fx_FPi2V9Ast__id_tV9Ast__id_t cmp;
   } _fx_Rt6Set__t1V9Ast__id_t;

typedef struct _fx_LS_data_t  { int_ rc; struct _fx_LS_data_t* tl; fx_str_t hd; } _fx_LS_data_t, *_fx_LS;

typedef struct _fx_FPi2SS  { int (*fp)(fx_str_t*, fx_str_t*, int_*, void*); fx_fcv_t* fcv; } _fx_FPi2SS;

typedef struct _fx_FPv1V9Ast__id_t  { int (*fp)(_fx_V9Ast__id_t*, void*); fx_fcv_t* fcv; } _fx_FPv1V9Ast__id_t;

typedef enum {
   _FX_V12Set__color_t_Red=0, _FX_V12Set__color_t_Black=1
} _fx_V12Set__color_t_tag_t;

typedef struct _fx_V12Set__color_t  { int tag; } _fx_V12Set__color_t;

typedef struct _fx_T4V12Set__color_tVt11Set__tree_t1SSVt11Set__tree_t1S
   { _fx_V12Set__color_t t0; struct _fx_Vt11Set__tree_t1S_data_t* t1; fx_str_t t2; struct _fx_Vt11Set__tree_t1S_data_t* t3;
   } _fx_T4V12Set__color_tVt11Set__tree_t1SSVt11Set__tree_t1S;

typedef enum {
   _FX_Vt11Set__tree_t_Empty=0, _FX_Vt11Set__tree_t_Node=1
} _fx_Vt11Set__tree_t_tag_t;

typedef struct _fx_Vt11Set__tree_t1S_data_t
   { int_ rc; union  { _fx_T4V12Set__color_tVt11Set__tree_t1SSVt11Set__tree_t1S Node; } u;
   } _fx_Vt11Set__tree_t1S_data_t, *_fx_Vt11Set__tree_t1S;

typedef struct _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t
   {
       _fx_V12Set__color_t t0;
       struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* t1;
       _fx_V9Ast__id_t t2;
       struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* t3;
   } _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t;

typedef struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t
   { int_ rc; union  { _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t Node; } u;
   } _fx_Vt11Set__tree_t1V9Ast__id_t_data_t, *_fx_Vt11Set__tree_t1V9Ast__id_t;

typedef struct _fx_Rt6Set__t1S  { struct _fx_Vt11Set__tree_t1S_data_t* root; int_ size; _fx_FPi2SS cmp; } _fx_Rt6Set__t1S;

typedef struct _fx_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t
   { struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* t0; _fx_V9Ast__id_t t1; struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* t2;
   } _fx_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t;

typedef struct _fx_T3Vt11Set__tree_t1SSVt11Set__tree_t1S
   { struct _fx_Vt11Set__tree_t1S_data_t* t0; fx_str_t t1; struct _fx_Vt11Set__tree_t1S_data_t* t2;
   } _fx_T3Vt11Set__tree_t1SSVt11Set__tree_t1S;

typedef struct _fx_T2Vt11Set__tree_t1V9Ast__id_ti  { struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* t0; int_ t1;
   } _fx_T2Vt11Set__tree_t1V9Ast__id_ti;

typedef struct _fx_T2Vt11Set__tree_t1Si  { struct _fx_Vt11Set__tree_t1S_data_t* t0; int_ t1; } _fx_T2Vt11Set__tree_t1Si;

typedef struct _fx_T2Vt11Set__tree_t1V9Ast__id_tB  { struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* t0; bool t1;
   } _fx_T2Vt11Set__tree_t1V9Ast__id_tB;

typedef struct _fx_T3Vt11Set__tree_t1V9Ast__id_tBi  { struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* t0; bool t1; int_ t2;
   } _fx_T3Vt11Set__tree_t1V9Ast__id_tBi;

typedef struct _fx_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tB
   { struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* t0; _fx_V9Ast__id_t t1; bool t2;
   } _fx_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tB;

typedef struct _fx_FPS1V9Ast__id_t  { int (*fp)(_fx_V9Ast__id_t*, fx_str_t*, void*); fx_fcv_t* fcv; } _fx_FPS1V9Ast__id_t;

typedef struct _fx_FPB1V9Ast__id_t  { int (*fp)(_fx_V9Ast__id_t*, bool*, void*); fx_fcv_t* fcv; } _fx_FPB1V9Ast__id_t;

typedef struct _fx_T2Vt11Set__tree_t1SB  { struct _fx_Vt11Set__tree_t1S_data_t* t0; bool t1; } _fx_T2Vt11Set__tree_t1SB;

typedef struct  { int_ rc; fx_str_t data; } _fx_E4Fail_data_t;

static int _fx_cons_LV9Ast__id_t(
   _fx_V9Ast__id_t* hd, struct _fx_LV9Ast__id_t_data_t* tl, bool addref_tl, struct _fx_LV9Ast__id_t_data_t** fx_result)
{ FX_MAKE_LIST_IMPL(_fx_LV9Ast__id_t, FX_COPY_SIMPLE_BY_PTR);
}

static void _fx_free_Rt6Set__t1V9Ast__id_t(_fx_Rt6Set__t1V9Ast__id_t* dst)
{ _fx_free_Vt11Set__tree_t1V9Ast__id_t(&dst->root); fx_free_fp(&dst->cmp);
}

static void _fx_copy_Rt6Set__t1V9Ast__id_t(_fx_Rt6Set__t1V9Ast__id_t* src, _fx_Rt6Set__t1V9Ast__id_t* dst)
{ FX_COPY_PTR(src->root, &dst->root); dst->size = src->size; FX_COPY_FP(&src->cmp, &dst->cmp);
}

static void _fx_make_Rt6Set__t1V9Ast__id_t(
   struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* r_root,
      int_ r_size,
      _fx_FPi2V9Ast__id_tV9Ast__id_t* r_cmp,
      _fx_Rt6Set__t1V9Ast__id_t* fx_result)
{ FX_COPY_PTR(r_root, &fx_result->root); fx_result->size = r_size; FX_COPY_FP(r_cmp, &fx_result->cmp);
}

static void _fx_free_LS(struct _fx_LS_data_t** dst)
{ FX_FREE_LIST_IMPL(_fx_LS, fx_free_str);
}

static int _fx_cons_LS(fx_str_t* hd, struct _fx_LS_data_t* tl, bool addref_tl, struct _fx_LS_data_t** fx_result)
{ FX_MAKE_LIST_IMPL(_fx_LS, fx_copy_str);
}

static void _fx_free_T4V12Set__color_tVt11Set__tree_t1SSVt11Set__tree_t1S(
   _fx_T4V12Set__color_tVt11Set__tree_t1SSVt11Set__tree_t1S* dst)
{ _fx_free_Vt11Set__tree_t1S(&dst->t1); fx_free_str(&dst->t2); _fx_free_Vt11Set__tree_t1S(&dst->t3);
}

static void _fx_copy_T4V12Set__color_tVt11Set__tree_t1SSVt11Set__tree_t1S(
   _fx_T4V12Set__color_tVt11Set__tree_t1SSVt11Set__tree_t1S* src, _fx_T4V12Set__color_tVt11Set__tree_t1SSVt11Set__tree_t1S* dst)
{ dst->t0 = src->t0; FX_COPY_PTR(src->t1, &dst->t1); fx_copy_str(&src->t2, &dst->t2); FX_COPY_PTR(src->t3, &dst->t3);
}

static void _fx_make_T4V12Set__color_tVt11Set__tree_t1SSVt11Set__tree_t1S(
   _fx_V12Set__color_t* t0,
      struct _fx_Vt11Set__tree_t1S_data_t* t1,
      fx_str_t* t2,
      struct _fx_Vt11Set__tree_t1S_data_t* t3,
      _fx_T4V12Set__color_tVt11Set__tree_t1SSVt11Set__tree_t1S* fx_result)
{ fx_result->t0 = *t0; FX_COPY_PTR(t1, &fx_result->t1); fx_copy_str(t2, &fx_result->t2); FX_COPY_PTR(t3, &fx_result->t3);
}

static void _fx_free_Vt11Set__tree_t1S(struct _fx_Vt11Set__tree_t1S_data_t** dst)
{
   if (*dst && FX_DECREF((*dst)->rc) == 1) {
      _fx_free_T4V12Set__color_tVt11Set__tree_t1SSVt11Set__tree_t1S(&(*dst)->u.Node); fx_free(*dst);
   }
   *dst = 0;
}

static void _fx_free_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t(
   _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* dst)
{ _fx_free_Vt11Set__tree_t1V9Ast__id_t(&dst->t1); _fx_free_Vt11Set__tree_t1V9Ast__id_t(&dst->t3);
}

static void _fx_copy_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t(
   _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* src,
      _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* dst)
{ dst->t0 = src->t0; FX_COPY_PTR(src->t1, &dst->t1); dst->t2 = src->t2; FX_COPY_PTR(src->t3, &dst->t3);
}

static void _fx_make_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t(
   _fx_V12Set__color_t* t0,
      struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* t1,
      _fx_V9Ast__id_t* t2,
      struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* t3,
      _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* fx_result)
{ fx_result->t0 = *t0; FX_COPY_PTR(t1, &fx_result->t1); fx_result->t2 = *t2; FX_COPY_PTR(t3, &fx_result->t3);
}

static void _fx_free_Vt11Set__tree_t1V9Ast__id_t(struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t** dst)
{
   if (*dst && FX_DECREF((*dst)->rc) == 1) {
      _fx_free_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t(&(*dst)->u.Node);
      fx_free(*dst);
   }
   *dst = 0;
}

static void _fx_free_Rt6Set__t1S(_fx_Rt6Set__t1S* dst)
{ _fx_free_Vt11Set__tree_t1S(&dst->root); fx_free_fp(&dst->cmp);
}

static void _fx_copy_Rt6Set__t1S(_fx_Rt6Set__t1S* src, _fx_Rt6Set__t1S* dst)
{ FX_COPY_PTR(src->root, &dst->root); dst->size = src->size; FX_COPY_FP(&src->cmp, &dst->cmp);
}

static void _fx_make_Rt6Set__t1S(
   struct _fx_Vt11Set__tree_t1S_data_t* r_root, int_ r_size, _fx_FPi2SS* r_cmp, _fx_Rt6Set__t1S* fx_result)
{ FX_COPY_PTR(r_root, &fx_result->root); fx_result->size = r_size; FX_COPY_FP(r_cmp, &fx_result->cmp);
}

static void _fx_free_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t(
   _fx_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* dst)
{ _fx_free_Vt11Set__tree_t1V9Ast__id_t(&dst->t0); _fx_free_Vt11Set__tree_t1V9Ast__id_t(&dst->t2);
}

static void _fx_copy_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t(
   _fx_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* src,
      _fx_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* dst)
{ FX_COPY_PTR(src->t0, &dst->t0); dst->t1 = src->t1; FX_COPY_PTR(src->t2, &dst->t2);
}

static void _fx_make_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t(
   struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* t0,
      _fx_V9Ast__id_t* t1,
      struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* t2,
      _fx_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* fx_result)
{ FX_COPY_PTR(t0, &fx_result->t0); fx_result->t1 = *t1; FX_COPY_PTR(t2, &fx_result->t2);
}

static void _fx_free_T3Vt11Set__tree_t1SSVt11Set__tree_t1S(_fx_T3Vt11Set__tree_t1SSVt11Set__tree_t1S* dst)
{ _fx_free_Vt11Set__tree_t1S(&dst->t0); fx_free_str(&dst->t1); _fx_free_Vt11Set__tree_t1S(&dst->t2);
}

static void _fx_copy_T3Vt11Set__tree_t1SSVt11Set__tree_t1S(
   _fx_T3Vt11Set__tree_t1SSVt11Set__tree_t1S* src, _fx_T3Vt11Set__tree_t1SSVt11Set__tree_t1S* dst)
{ FX_COPY_PTR(src->t0, &dst->t0); fx_copy_str(&src->t1, &dst->t1); FX_COPY_PTR(src->t2, &dst->t2);
}

static void _fx_make_T3Vt11Set__tree_t1SSVt11Set__tree_t1S(
   struct _fx_Vt11Set__tree_t1S_data_t* t0,
      fx_str_t* t1,
      struct _fx_Vt11Set__tree_t1S_data_t* t2,
      _fx_T3Vt11Set__tree_t1SSVt11Set__tree_t1S* fx_result)
{ FX_COPY_PTR(t0, &fx_result->t0); fx_copy_str(t1, &fx_result->t1); FX_COPY_PTR(t2, &fx_result->t2);
}

static void _fx_free_T2Vt11Set__tree_t1V9Ast__id_ti(_fx_T2Vt11Set__tree_t1V9Ast__id_ti* dst)
{ _fx_free_Vt11Set__tree_t1V9Ast__id_t(&dst->t0);
}

static void _fx_copy_T2Vt11Set__tree_t1V9Ast__id_ti(
   _fx_T2Vt11Set__tree_t1V9Ast__id_ti* src, _fx_T2Vt11Set__tree_t1V9Ast__id_ti* dst)
{ FX_COPY_PTR(src->t0, &dst->t0); dst->t1 = src->t1;
}

static void _fx_make_T2Vt11Set__tree_t1V9Ast__id_ti(
   struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* t0, int_ t1, _fx_T2Vt11Set__tree_t1V9Ast__id_ti* fx_result)
{ FX_COPY_PTR(t0, &fx_result->t0); fx_result->t1 = t1;
}

static void _fx_free_T2Vt11Set__tree_t1Si(_fx_T2Vt11Set__tree_t1Si* dst)
{ _fx_free_Vt11Set__tree_t1S(&dst->t0);
}

static void _fx_copy_T2Vt11Set__tree_t1Si(_fx_T2Vt11Set__tree_t1Si* src, _fx_T2Vt11Set__tree_t1Si* dst)
{ FX_COPY_PTR(src->t0, &dst->t0); dst->t1 = src->t1;
}

static void _fx_make_T2Vt11Set__tree_t1Si(struct _fx_Vt11Set__tree_t1S_data_t* t0, int_ t1, _fx_T2Vt11Set__tree_t1Si* fx_result)
{ FX_COPY_PTR(t0, &fx_result->t0); fx_result->t1 = t1;
}

static void _fx_free_T2Vt11Set__tree_t1V9Ast__id_tB(_fx_T2Vt11Set__tree_t1V9Ast__id_tB* dst)
{ _fx_free_Vt11Set__tree_t1V9Ast__id_t(&dst->t0);
}

static void _fx_copy_T2Vt11Set__tree_t1V9Ast__id_tB(
   _fx_T2Vt11Set__tree_t1V9Ast__id_tB* src, _fx_T2Vt11Set__tree_t1V9Ast__id_tB* dst)
{ FX_COPY_PTR(src->t0, &dst->t0); dst->t1 = src->t1;
}

static void _fx_make_T2Vt11Set__tree_t1V9Ast__id_tB(
   struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* t0, bool t1, _fx_T2Vt11Set__tree_t1V9Ast__id_tB* fx_result)
{ FX_COPY_PTR(t0, &fx_result->t0); fx_result->t1 = t1;
}

static void _fx_free_T3Vt11Set__tree_t1V9Ast__id_tBi(_fx_T3Vt11Set__tree_t1V9Ast__id_tBi* dst)
{ _fx_free_Vt11Set__tree_t1V9Ast__id_t(&dst->t0);
}

static void _fx_copy_T3Vt11Set__tree_t1V9Ast__id_tBi(
   _fx_T3Vt11Set__tree_t1V9Ast__id_tBi* src, _fx_T3Vt11Set__tree_t1V9Ast__id_tBi* dst)
{ FX_COPY_PTR(src->t0, &dst->t0); dst->t1 = src->t1; dst->t2 = src->t2;
}

static void _fx_make_T3Vt11Set__tree_t1V9Ast__id_tBi(
   struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* t0, bool t1, int_ t2, _fx_T3Vt11Set__tree_t1V9Ast__id_tBi* fx_result)
{ FX_COPY_PTR(t0, &fx_result->t0); fx_result->t1 = t1; fx_result->t2 = t2;
}

static void _fx_free_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tB(_fx_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tB* dst)
{ _fx_free_Vt11Set__tree_t1V9Ast__id_t(&dst->t0);
}

static void _fx_copy_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tB(
   _fx_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tB* src, _fx_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tB* dst)
{ FX_COPY_PTR(src->t0, &dst->t0); dst->t1 = src->t1; dst->t2 = src->t2;
}

static void _fx_make_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tB(
   struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* t0,
      _fx_V9Ast__id_t* t1,
      bool t2,
      _fx_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tB* fx_result)
{ FX_COPY_PTR(t0, &fx_result->t0); fx_result->t1 = *t1; fx_result->t2 = t2;
}

static void _fx_free_T2Vt11Set__tree_t1SB(_fx_T2Vt11Set__tree_t1SB* dst)
{ _fx_free_Vt11Set__tree_t1S(&dst->t0);
}

static void _fx_copy_T2Vt11Set__tree_t1SB(_fx_T2Vt11Set__tree_t1SB* src, _fx_T2Vt11Set__tree_t1SB* dst)
{ FX_COPY_PTR(src->t0, &dst->t0); dst->t1 = src->t1;
}

static void _fx_make_T2Vt11Set__tree_t1SB(struct _fx_Vt11Set__tree_t1S_data_t* t0, bool t1, _fx_T2Vt11Set__tree_t1SB* fx_result)
{ FX_COPY_PTR(t0, &fx_result->t0); fx_result->t1 = t1;
}

_fx_V12Set__color_t _fx_g8Set__Red = { _FX_V12Set__color_t_Red };
_fx_V12Set__color_t _fx_g10Set__Black = { _FX_V12Set__color_t_Black };
_fx_Vt11Set__tree_t1S _fx_g10Set__Empty = 0;
_fx_Vt11Set__tree_t1V9Ast__id_t _fx_g12Set__Empty1_ = 0;
int _FX_EXN_E15Set__RBSetError = 0;
FX_EXTERN_C_VAL(fx_exn_t _fx_E15Set__RBSetErrorv)
fx_exn_info_t _fx_E15Set__RBSetError_info = {  };
fx_exn_t _fx_E15Set__RBSetErrorv = {  };
FX_EXTERN_C int _fx_M3SetFM4NodeVtM6tree_t1S4VM7color_tVtM6tree_t1SSVtM6tree_t1S(
   _fx_V12Set__color_t* arg0,
      struct _fx_Vt11Set__tree_t1S_data_t* arg1,
      fx_str_t* arg2,
      struct _fx_Vt11Set__tree_t1S_data_t* arg3,
      struct _fx_Vt11Set__tree_t1S_data_t** fx_result)
{
   FX_MAKE_RECURSIVE_VARIANT_IMPL_START(_fx_Vt11Set__tree_t1S);
   v->u.Node.t0 = *arg0;
   FX_COPY_PTR(arg1, &v->u.Node.t1);
   fx_copy_str(arg2, &v->u.Node.t2);
   FX_COPY_PTR(arg3, &v->u.Node.t3);
   return 0;
}

FX_EXTERN_C int _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
   _fx_V12Set__color_t* arg0,
      struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* arg1,
      _fx_V9Ast__id_t* arg2,
      struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* arg3,
      struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t** fx_result)
{
   FX_MAKE_RECURSIVE_VARIANT_IMPL_START(_fx_Vt11Set__tree_t1V9Ast__id_t);
   v->u.Node.t0 = *arg0;
   FX_COPY_PTR(arg1, &v->u.Node.t1);
   v->u.Node.t2 = *arg2;
   FX_COPY_PTR(arg3, &v->u.Node.t3);
   return 0;
}

FX_EXTERN_C int _fx_M3SetFM5emptyRtM1t1V9Ast__id_t1FPi2V9Ast__id_tV9Ast__id_t(
   _fx_FPi2V9Ast__id_tV9Ast__id_t* cmp_0, _fx_Rt6Set__t1V9Ast__id_t* fx_result, void* fx_fv)
{ int fx_status = 0; _fx_make_Rt6Set__t1V9Ast__id_t(_fx_g12Set__Empty1_, 0, cmp_0, fx_result); return fx_status;
}

FX_EXTERN_C int _fx_M3SetFM5emptyB1RtM1t1V9Ast__id_t(_fx_Rt6Set__t1V9Ast__id_t* s_0, bool* fx_result, void* fx_fv)
{
   int fx_status = 0;
   if (s_0->root != 0 == _FX_Vt11Set__tree_t_Empty) { *fx_result = true;
   }
   else { *fx_result = false;
   }
   return fx_status;
}

FX_EXTERN_C int _fx_M3SetFM3memB2RtM1t1V9Ast__id_tV9Ast__id_t(
   _fx_Rt6Set__t1V9Ast__id_t* s_0, _fx_V9Ast__id_t* x_0, bool* fx_result, void* fx_fv)
{
   _fx_Vt11Set__tree_t1V9Ast__id_t v_0 = 0;
   _fx_FPi2V9Ast__id_tV9Ast__id_t v_1 = {  };
   _fx_Vt11Set__tree_t1V9Ast__id_t t_0 = 0;
   _fx_FPi2V9Ast__id_tV9Ast__id_t cmp_0 = {  };
   int fx_status = 0;
   FX_COPY_PTR(s_0->root, &v_0);
   FX_COPY_FP(&s_0->cmp, &v_1);
   bool res_0 = 0;
   FX_COPY_PTR(v_0, &t_0);
   _fx_V9Ast__id_t x_1 = *x_0;
   FX_COPY_FP(&v_1, &cmp_0);
   for (;;) {
      _fx_Vt11Set__tree_t1V9Ast__id_t t_1 = 0;
      _fx_FPi2V9Ast__id_tV9Ast__id_t cmp_1 = {  };
      FX_COPY_PTR(t_0, &t_1);
      _fx_V9Ast__id_t x_2 = x_1;
      FX_COPY_FP(&cmp_0, &cmp_1);
      if (t_1 != 0 == _FX_Vt11Set__tree_t_Node) {
         _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_0 = &t_1->u.Node;
         int_ c_0;
         FX_CALL(cmp_1.fp(&x_2, &vcase_0->t2, &c_0, cmp_1.fcv), _fx_catch_0);
         if (c_0 < 0) {
            _fx_Vt11Set__tree_t1V9Ast__id_t* l_0 = &vcase_0->t1;
            _fx_free_Vt11Set__tree_t1V9Ast__id_t(&t_0);
            FX_COPY_PTR(*l_0, &t_0);
            x_1 = x_2;
            FX_FREE_FP(&cmp_0);
            FX_COPY_FP(&cmp_1, &cmp_0);
         }
         else if (c_0 > 0) {
            _fx_Vt11Set__tree_t1V9Ast__id_t* r_0 = &vcase_0->t3;
            _fx_free_Vt11Set__tree_t1V9Ast__id_t(&t_0);
            FX_COPY_PTR(*r_0, &t_0);
            x_1 = x_2;
            FX_FREE_FP(&cmp_0);
            FX_COPY_FP(&cmp_1, &cmp_0);
         }
         else { res_0 = true; FX_BREAK(_fx_catch_0);
         }

      _fx_catch_0: ;
      }
      else { res_0 = false; FX_BREAK(_fx_catch_1);  _fx_catch_1: ;
      }
      FX_CHECK_EXN(_fx_catch_2);

   _fx_catch_2: ;
      FX_FREE_FP(&cmp_1);
      if (t_1) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&t_1);
      }
      FX_CHECK_BREAK();
      FX_CHECK_EXN(_fx_cleanup);
   }
   *fx_result = res_0;

_fx_cleanup: ;
   if (v_0) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_0);
   }
   FX_FREE_FP(&v_1);
   if (t_0) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&t_0);
   }
   FX_FREE_FP(&cmp_0);
   return fx_status;
}

FX_EXTERN_C int _fx_M3SetFM12balance_leftVtM6tree_t1V9Ast__id_t3VtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
   struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* l_0,
      _fx_V9Ast__id_t* x_0,
      struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* r_0,
      struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t** fx_result,
      void* fx_fv)
{
   _fx_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t v_0 = {  };
   int fx_status = 0;
   _fx_make_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t(l_0, x_0, r_0, &v_0);
   if (l_0 != 0 == _FX_Vt11Set__tree_t_Node) {
      _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_0 = &l_0->u.Node;
      if (vcase_0->t0.tag == _FX_V12Set__color_t_Red) {
         _fx_Vt11Set__tree_t1V9Ast__id_t v_1 = vcase_0->t1;
         if (v_1 != 0 == _FX_Vt11Set__tree_t_Node) {
            _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_1 = &v_1->u.Node;
            if (vcase_1->t0.tag == _FX_V12Set__color_t_Red) {
               _fx_Vt11Set__tree_t1V9Ast__id_t v_2 = 0;
               _fx_Vt11Set__tree_t1V9Ast__id_t v_3 = 0;
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                        &_fx_g10Set__Black, vcase_1->t1, &vcase_1->t2, vcase_1->t3, &v_2), _fx_catch_0);
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                        &_fx_g10Set__Black, vcase_0->t3, x_0, r_0, &v_3), _fx_catch_0);
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                        &_fx_g8Set__Red, v_2, &vcase_0->t2, v_3, fx_result), _fx_catch_0);

            _fx_catch_0: ;
               if (v_3) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_3);
               }
               if (v_2) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_2);
               }
               goto _fx_endmatch_0;
            }
         }
      }
   }
   if (l_0 != 0 == _FX_Vt11Set__tree_t_Node) {
      _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_2 = &l_0->u.Node;
      if (vcase_2->t0.tag == _FX_V12Set__color_t_Red) {
         _fx_Vt11Set__tree_t1V9Ast__id_t v_4 = vcase_2->t3;
         if (v_4 != 0 == _FX_Vt11Set__tree_t_Node) {
            _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_3 = &v_4->u.Node;
            if (vcase_3->t0.tag == _FX_V12Set__color_t_Red) {
               _fx_Vt11Set__tree_t1V9Ast__id_t v_5 = 0;
               _fx_Vt11Set__tree_t1V9Ast__id_t v_6 = 0;
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                        &_fx_g10Set__Black, vcase_2->t1, &vcase_2->t2, vcase_3->t1, &v_5), _fx_catch_1);
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                        &_fx_g10Set__Black, vcase_3->t3, x_0, r_0, &v_6), _fx_catch_1);
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                        &_fx_g8Set__Red, v_5, &vcase_3->t2, v_6, fx_result), _fx_catch_1);

            _fx_catch_1: ;
               if (v_6) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_6);
               }
               if (v_5) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_5);
               }
               goto _fx_endmatch_0;
            }
         }
      }
   }
   FX_CALL(

         _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
            &_fx_g10Set__Black, l_0, x_0, r_0, fx_result), _fx_catch_2);

_fx_catch_2: ;

_fx_endmatch_0: ;
   _fx_free_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t(&v_0);
   return fx_status;
}

FX_EXTERN_C int _fx_M3SetFM12balance_leftVtM6tree_t1S3VtM6tree_t1SSVtM6tree_t1S(
   struct _fx_Vt11Set__tree_t1S_data_t* l_0,
      fx_str_t* x_0,
      struct _fx_Vt11Set__tree_t1S_data_t* r_0,
      struct _fx_Vt11Set__tree_t1S_data_t** fx_result,
      void* fx_fv)
{
   _fx_T3Vt11Set__tree_t1SSVt11Set__tree_t1S v_0 = {  };
   int fx_status = 0;
   _fx_make_T3Vt11Set__tree_t1SSVt11Set__tree_t1S(l_0, x_0, r_0, &v_0);
   if (l_0 != 0 == _FX_Vt11Set__tree_t_Node) {
      _fx_T4V12Set__color_tVt11Set__tree_t1SSVt11Set__tree_t1S* vcase_0 = &l_0->u.Node;
      if (vcase_0->t0.tag == _FX_V12Set__color_t_Red) {
         _fx_Vt11Set__tree_t1S v_1 = vcase_0->t1;
         if (v_1 != 0 == _FX_Vt11Set__tree_t_Node) {
            _fx_T4V12Set__color_tVt11Set__tree_t1SSVt11Set__tree_t1S* vcase_1 = &v_1->u.Node;
            if (vcase_1->t0.tag == _FX_V12Set__color_t_Red) {
               _fx_Vt11Set__tree_t1S v_2 = 0;
               _fx_Vt11Set__tree_t1S v_3 = 0;
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1S4VM7color_tVtM6tree_t1SSVtM6tree_t1S(
                        &_fx_g10Set__Black, vcase_1->t1, &vcase_1->t2, vcase_1->t3, &v_2), _fx_catch_0);
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1S4VM7color_tVtM6tree_t1SSVtM6tree_t1S(
                        &_fx_g10Set__Black, vcase_0->t3, x_0, r_0, &v_3), _fx_catch_0);
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1S4VM7color_tVtM6tree_t1SSVtM6tree_t1S(
                        &_fx_g8Set__Red, v_2, &vcase_0->t2, v_3, fx_result), _fx_catch_0);

            _fx_catch_0: ;
               if (v_3) { _fx_free_Vt11Set__tree_t1S(&v_3);
               }
               if (v_2) { _fx_free_Vt11Set__tree_t1S(&v_2);
               }
               goto _fx_endmatch_0;
            }
         }
      }
   }
   if (l_0 != 0 == _FX_Vt11Set__tree_t_Node) {
      _fx_T4V12Set__color_tVt11Set__tree_t1SSVt11Set__tree_t1S* vcase_2 = &l_0->u.Node;
      if (vcase_2->t0.tag == _FX_V12Set__color_t_Red) {
         _fx_Vt11Set__tree_t1S v_4 = vcase_2->t3;
         if (v_4 != 0 == _FX_Vt11Set__tree_t_Node) {
            _fx_T4V12Set__color_tVt11Set__tree_t1SSVt11Set__tree_t1S* vcase_3 = &v_4->u.Node;
            if (vcase_3->t0.tag == _FX_V12Set__color_t_Red) {
               _fx_Vt11Set__tree_t1S v_5 = 0;
               _fx_Vt11Set__tree_t1S v_6 = 0;
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1S4VM7color_tVtM6tree_t1SSVtM6tree_t1S(
                        &_fx_g10Set__Black, vcase_2->t1, &vcase_2->t2, vcase_3->t1, &v_5), _fx_catch_1);
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1S4VM7color_tVtM6tree_t1SSVtM6tree_t1S(
                        &_fx_g10Set__Black, vcase_3->t3, x_0, r_0, &v_6), _fx_catch_1);
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1S4VM7color_tVtM6tree_t1SSVtM6tree_t1S(
                        &_fx_g8Set__Red, v_5, &vcase_3->t2, v_6, fx_result), _fx_catch_1);

            _fx_catch_1: ;
               if (v_6) { _fx_free_Vt11Set__tree_t1S(&v_6);
               }
               if (v_5) { _fx_free_Vt11Set__tree_t1S(&v_5);
               }
               goto _fx_endmatch_0;
            }
         }
      }
   }
   FX_CALL(
      _fx_M3SetFM4NodeVtM6tree_t1S4VM7color_tVtM6tree_t1SSVtM6tree_t1S(&_fx_g10Set__Black, l_0, x_0, r_0, fx_result),
         _fx_catch_2);

_fx_catch_2: ;

_fx_endmatch_0: ;
   _fx_free_T3Vt11Set__tree_t1SSVt11Set__tree_t1S(&v_0);
   return fx_status;
}

FX_EXTERN_C int _fx_M3SetFM13balance_rightVtM6tree_t1V9Ast__id_t3VtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
   struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* l_0,
      _fx_V9Ast__id_t* x_0,
      struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* r_0,
      struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t** fx_result,
      void* fx_fv)
{
   _fx_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t v_0 = {  };
   int fx_status = 0;
   _fx_make_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t(l_0, x_0, r_0, &v_0);
   if (r_0 != 0 == _FX_Vt11Set__tree_t_Node) {
      _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_0 = &r_0->u.Node;
      if (vcase_0->t0.tag == _FX_V12Set__color_t_Red) {
         _fx_Vt11Set__tree_t1V9Ast__id_t v_1 = vcase_0->t1;
         if (v_1 != 0 == _FX_Vt11Set__tree_t_Node) {
            _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_1 = &v_1->u.Node;
            if (vcase_1->t0.tag == _FX_V12Set__color_t_Red) {
               _fx_Vt11Set__tree_t1V9Ast__id_t v_2 = 0;
               _fx_Vt11Set__tree_t1V9Ast__id_t v_3 = 0;
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                        &_fx_g10Set__Black, l_0, x_0, vcase_1->t1, &v_2), _fx_catch_0);
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                        &_fx_g10Set__Black, vcase_1->t3, &vcase_0->t2, vcase_0->t3, &v_3), _fx_catch_0);
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                        &_fx_g8Set__Red, v_2, &vcase_1->t2, v_3, fx_result), _fx_catch_0);

            _fx_catch_0: ;
               if (v_3) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_3);
               }
               if (v_2) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_2);
               }
               goto _fx_endmatch_0;
            }
         }
      }
   }
   if (r_0 != 0 == _FX_Vt11Set__tree_t_Node) {
      _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_2 = &r_0->u.Node;
      if (vcase_2->t0.tag == _FX_V12Set__color_t_Red) {
         _fx_Vt11Set__tree_t1V9Ast__id_t v_4 = vcase_2->t3;
         if (v_4 != 0 == _FX_Vt11Set__tree_t_Node) {
            _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_3 = &v_4->u.Node;
            if (vcase_3->t0.tag == _FX_V12Set__color_t_Red) {
               _fx_Vt11Set__tree_t1V9Ast__id_t v_5 = 0;
               _fx_Vt11Set__tree_t1V9Ast__id_t v_6 = 0;
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                        &_fx_g10Set__Black, l_0, x_0, vcase_2->t1, &v_5), _fx_catch_1);
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                        &_fx_g10Set__Black, vcase_3->t1, &vcase_3->t2, vcase_3->t3, &v_6), _fx_catch_1);
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                        &_fx_g8Set__Red, v_5, &vcase_2->t2, v_6, fx_result), _fx_catch_1);

            _fx_catch_1: ;
               if (v_6) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_6);
               }
               if (v_5) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_5);
               }
               goto _fx_endmatch_0;
            }
         }
      }
   }
   FX_CALL(

         _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
            &_fx_g10Set__Black, l_0, x_0, r_0, fx_result), _fx_catch_2);

_fx_catch_2: ;

_fx_endmatch_0: ;
   _fx_free_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t(&v_0);
   return fx_status;
}

FX_EXTERN_C int _fx_M3SetFM13balance_rightVtM6tree_t1S3VtM6tree_t1SSVtM6tree_t1S(
   struct _fx_Vt11Set__tree_t1S_data_t* l_0,
      fx_str_t* x_0,
      struct _fx_Vt11Set__tree_t1S_data_t* r_0,
      struct _fx_Vt11Set__tree_t1S_data_t** fx_result,
      void* fx_fv)
{
   _fx_T3Vt11Set__tree_t1SSVt11Set__tree_t1S v_0 = {  };
   int fx_status = 0;
   _fx_make_T3Vt11Set__tree_t1SSVt11Set__tree_t1S(l_0, x_0, r_0, &v_0);
   if (r_0 != 0 == _FX_Vt11Set__tree_t_Node) {
      _fx_T4V12Set__color_tVt11Set__tree_t1SSVt11Set__tree_t1S* vcase_0 = &r_0->u.Node;
      if (vcase_0->t0.tag == _FX_V12Set__color_t_Red) {
         _fx_Vt11Set__tree_t1S v_1 = vcase_0->t1;
         if (v_1 != 0 == _FX_Vt11Set__tree_t_Node) {
            _fx_T4V12Set__color_tVt11Set__tree_t1SSVt11Set__tree_t1S* vcase_1 = &v_1->u.Node;
            if (vcase_1->t0.tag == _FX_V12Set__color_t_Red) {
               _fx_Vt11Set__tree_t1S v_2 = 0;
               _fx_Vt11Set__tree_t1S v_3 = 0;
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1S4VM7color_tVtM6tree_t1SSVtM6tree_t1S(
                        &_fx_g10Set__Black, l_0, x_0, vcase_1->t1, &v_2), _fx_catch_0);
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1S4VM7color_tVtM6tree_t1SSVtM6tree_t1S(
                        &_fx_g10Set__Black, vcase_1->t3, &vcase_0->t2, vcase_0->t3, &v_3), _fx_catch_0);
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1S4VM7color_tVtM6tree_t1SSVtM6tree_t1S(
                        &_fx_g8Set__Red, v_2, &vcase_1->t2, v_3, fx_result), _fx_catch_0);

            _fx_catch_0: ;
               if (v_3) { _fx_free_Vt11Set__tree_t1S(&v_3);
               }
               if (v_2) { _fx_free_Vt11Set__tree_t1S(&v_2);
               }
               goto _fx_endmatch_0;
            }
         }
      }
   }
   if (r_0 != 0 == _FX_Vt11Set__tree_t_Node) {
      _fx_T4V12Set__color_tVt11Set__tree_t1SSVt11Set__tree_t1S* vcase_2 = &r_0->u.Node;
      if (vcase_2->t0.tag == _FX_V12Set__color_t_Red) {
         _fx_Vt11Set__tree_t1S v_4 = vcase_2->t3;
         if (v_4 != 0 == _FX_Vt11Set__tree_t_Node) {
            _fx_T4V12Set__color_tVt11Set__tree_t1SSVt11Set__tree_t1S* vcase_3 = &v_4->u.Node;
            if (vcase_3->t0.tag == _FX_V12Set__color_t_Red) {
               _fx_Vt11Set__tree_t1S v_5 = 0;
               _fx_Vt11Set__tree_t1S v_6 = 0;
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1S4VM7color_tVtM6tree_t1SSVtM6tree_t1S(
                        &_fx_g10Set__Black, l_0, x_0, vcase_2->t1, &v_5), _fx_catch_1);
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1S4VM7color_tVtM6tree_t1SSVtM6tree_t1S(
                        &_fx_g10Set__Black, vcase_3->t1, &vcase_3->t2, vcase_3->t3, &v_6), _fx_catch_1);
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1S4VM7color_tVtM6tree_t1SSVtM6tree_t1S(
                        &_fx_g8Set__Red, v_5, &vcase_2->t2, v_6, fx_result), _fx_catch_1);

            _fx_catch_1: ;
               if (v_6) { _fx_free_Vt11Set__tree_t1S(&v_6);
               }
               if (v_5) { _fx_free_Vt11Set__tree_t1S(&v_5);
               }
               goto _fx_endmatch_0;
            }
         }
      }
   }
   FX_CALL(
      _fx_M3SetFM4NodeVtM6tree_t1S4VM7color_tVtM6tree_t1SSVtM6tree_t1S(&_fx_g10Set__Black, l_0, x_0, r_0, fx_result),
         _fx_catch_2);

_fx_catch_2: ;

_fx_endmatch_0: ;
   _fx_free_T3Vt11Set__tree_t1SSVt11Set__tree_t1S(&v_0);
   return fx_status;
}

FX_EXTERN_C int _fx_M3SetFM12add_to_tree_T2VtM6tree_t1V9Ast__id_ti3VtM6tree_t1V9Ast__id_tV9Ast__id_tFPi2V9Ast__id_tV9Ast__id_t(
   struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* t_0,
      _fx_V9Ast__id_t* x_0,
      _fx_FPi2V9Ast__id_tV9Ast__id_t* cmp_0,
      _fx_T2Vt11Set__tree_t1V9Ast__id_ti* fx_result,
      void* fx_fv)
{
   int fx_status = 0;
   FX_CALL(fx_check_stack(), _fx_cleanup);
   int tag_0 = t_0 != 0;
   if (tag_0 == _FX_Vt11Set__tree_t_Node) {
      _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_0 = &t_0->u.Node;
      if (vcase_0->t0.tag == _FX_V12Set__color_t_Red) {
         _fx_T2Vt11Set__tree_t1V9Ast__id_ti v_0 = {  };
         _fx_Vt11Set__tree_t1V9Ast__id_t l_0 = 0;
         _fx_Vt11Set__tree_t1V9Ast__id_t v_1 = 0;
         _fx_T2Vt11Set__tree_t1V9Ast__id_ti v_2 = {  };
         _fx_Vt11Set__tree_t1V9Ast__id_t r_0 = 0;
         _fx_Vt11Set__tree_t1V9Ast__id_t v_3 = 0;
         _fx_Vt11Set__tree_t1V9Ast__id_t r_1 = vcase_0->t3;
         _fx_V9Ast__id_t* y_0 = &vcase_0->t2;
         _fx_Vt11Set__tree_t1V9Ast__id_t l_1 = vcase_0->t1;
         int_ c_0;
         FX_CALL(cmp_0->fp(x_0, y_0, &c_0, cmp_0->fcv), _fx_catch_0);
         if (c_0 < 0) {
            FX_CALL(

                  _fx_M3SetFM12add_to_tree_T2VtM6tree_t1V9Ast__id_ti3VtM6tree_t1V9Ast__id_tV9Ast__id_tFPi2V9Ast__id_tV9Ast__id_t(
                     l_1, x_0, cmp_0, &v_0, 0), _fx_catch_0);
            FX_COPY_PTR(v_0.t0, &l_0);
            int_ dsz_0 = v_0.t1;
            FX_CALL(

                  _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                     &_fx_g8Set__Red, l_0, y_0, r_1, &v_1), _fx_catch_0);
            _fx_make_T2Vt11Set__tree_t1V9Ast__id_ti(v_1, dsz_0, fx_result);
         }
         else if (c_0 > 0) {
            FX_CALL(

                  _fx_M3SetFM12add_to_tree_T2VtM6tree_t1V9Ast__id_ti3VtM6tree_t1V9Ast__id_tV9Ast__id_tFPi2V9Ast__id_tV9Ast__id_t(
                     r_1, x_0, cmp_0, &v_2, 0), _fx_catch_0);
            FX_COPY_PTR(v_2.t0, &r_0);
            int_ dsz_1 = v_2.t1;
            FX_CALL(

                  _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                     &_fx_g8Set__Red, l_1, y_0, r_0, &v_3), _fx_catch_0);
            _fx_make_T2Vt11Set__tree_t1V9Ast__id_ti(v_3, dsz_1, fx_result);
         }
         else { _fx_make_T2Vt11Set__tree_t1V9Ast__id_ti(t_0, 0, fx_result);
         }

      _fx_catch_0: ;
         if (v_3) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_3);
         }
         if (r_0) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&r_0);
         }
         _fx_free_T2Vt11Set__tree_t1V9Ast__id_ti(&v_2);
         if (v_1) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_1);
         }
         if (l_0) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&l_0);
         }
         _fx_free_T2Vt11Set__tree_t1V9Ast__id_ti(&v_0);
         goto _fx_endmatch_0;
      }
   }
   if (tag_0 == _FX_Vt11Set__tree_t_Node) {
      _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_1 = &t_0->u.Node;
      if (vcase_1->t0.tag == _FX_V12Set__color_t_Black) {
         _fx_T2Vt11Set__tree_t1V9Ast__id_ti v_4 = {  };
         _fx_Vt11Set__tree_t1V9Ast__id_t l_2 = 0;
         _fx_Vt11Set__tree_t1V9Ast__id_t v_5 = 0;
         _fx_T2Vt11Set__tree_t1V9Ast__id_ti v_6 = {  };
         _fx_Vt11Set__tree_t1V9Ast__id_t r_2 = 0;
         _fx_Vt11Set__tree_t1V9Ast__id_t v_7 = 0;
         _fx_Vt11Set__tree_t1V9Ast__id_t r_3 = vcase_1->t3;
         _fx_V9Ast__id_t* y_1 = &vcase_1->t2;
         _fx_Vt11Set__tree_t1V9Ast__id_t l_3 = vcase_1->t1;
         int_ c_1;
         FX_CALL(cmp_0->fp(x_0, y_1, &c_1, cmp_0->fcv), _fx_catch_1);
         if (c_1 < 0) {
            FX_CALL(

                  _fx_M3SetFM12add_to_tree_T2VtM6tree_t1V9Ast__id_ti3VtM6tree_t1V9Ast__id_tV9Ast__id_tFPi2V9Ast__id_tV9Ast__id_t(
                     l_3, x_0, cmp_0, &v_4, 0), _fx_catch_1);
            FX_COPY_PTR(v_4.t0, &l_2);
            int_ dsz_2 = v_4.t1;
            if (dsz_2 > 0) {
               FX_CALL(

                     _fx_M3SetFM12balance_leftVtM6tree_t1V9Ast__id_t3VtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                        l_2, y_1, r_3, &v_5, 0), _fx_catch_1);
            }
            else {
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                        &_fx_g10Set__Black, l_2, y_1, r_3, &v_5), _fx_catch_1);
            }
            _fx_make_T2Vt11Set__tree_t1V9Ast__id_ti(v_5, dsz_2, fx_result);
         }
         else if (c_1 > 0) {
            FX_CALL(

                  _fx_M3SetFM12add_to_tree_T2VtM6tree_t1V9Ast__id_ti3VtM6tree_t1V9Ast__id_tV9Ast__id_tFPi2V9Ast__id_tV9Ast__id_t(
                     r_3, x_0, cmp_0, &v_6, 0), _fx_catch_1);
            FX_COPY_PTR(v_6.t0, &r_2);
            int_ dsz_3 = v_6.t1;
            if (dsz_3 > 0) {
               FX_CALL(

                     _fx_M3SetFM13balance_rightVtM6tree_t1V9Ast__id_t3VtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                        l_3, y_1, r_2, &v_7, 0), _fx_catch_1);
            }
            else {
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                        &_fx_g10Set__Black, l_3, y_1, r_2, &v_7), _fx_catch_1);
            }
            _fx_make_T2Vt11Set__tree_t1V9Ast__id_ti(v_7, dsz_3, fx_result);
         }
         else { _fx_make_T2Vt11Set__tree_t1V9Ast__id_ti(t_0, 0, fx_result);
         }

      _fx_catch_1: ;
         if (v_7) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_7);
         }
         if (r_2) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&r_2);
         }
         _fx_free_T2Vt11Set__tree_t1V9Ast__id_ti(&v_6);
         if (v_5) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_5);
         }
         if (l_2) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&l_2);
         }
         _fx_free_T2Vt11Set__tree_t1V9Ast__id_ti(&v_4);
         goto _fx_endmatch_0;
      }
   }
   _fx_Vt11Set__tree_t1V9Ast__id_t v_8 = 0;
   FX_CALL(

         _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
            &_fx_g8Set__Red, _fx_g12Set__Empty1_, x_0, _fx_g12Set__Empty1_, &v_8), _fx_catch_2);
   _fx_make_T2Vt11Set__tree_t1V9Ast__id_ti(v_8, 1, fx_result);

_fx_catch_2: ;
   if (v_8) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_8);
   }

_fx_endmatch_0: ;

_fx_cleanup: ;
   return fx_status;
}

FX_EXTERN_C int _fx_M3SetFM12add_to_tree_T2VtM6tree_t1Si3VtM6tree_t1SSFPi2SS(
   struct _fx_Vt11Set__tree_t1S_data_t* t_0, fx_str_t* x_0, _fx_FPi2SS* cmp_0, _fx_T2Vt11Set__tree_t1Si* fx_result, void* fx_fv)
{
   int fx_status = 0;
   FX_CALL(fx_check_stack(), _fx_cleanup);
   int tag_0 = t_0 != 0;
   if (tag_0 == _FX_Vt11Set__tree_t_Node) {
      _fx_T4V12Set__color_tVt11Set__tree_t1SSVt11Set__tree_t1S* vcase_0 = &t_0->u.Node;
      if (vcase_0->t0.tag == _FX_V12Set__color_t_Red) {
         _fx_T2Vt11Set__tree_t1Si v_0 = {  };
         _fx_Vt11Set__tree_t1S l_0 = 0;
         _fx_Vt11Set__tree_t1S v_1 = 0;
         _fx_T2Vt11Set__tree_t1Si v_2 = {  };
         _fx_Vt11Set__tree_t1S r_0 = 0;
         _fx_Vt11Set__tree_t1S v_3 = 0;
         _fx_Vt11Set__tree_t1S r_1 = vcase_0->t3;
         fx_str_t* y_0 = &vcase_0->t2;
         _fx_Vt11Set__tree_t1S l_1 = vcase_0->t1;
         int_ c_0;
         FX_CALL(cmp_0->fp(x_0, y_0, &c_0, cmp_0->fcv), _fx_catch_0);
         if (c_0 < 0) {
            FX_CALL(_fx_M3SetFM12add_to_tree_T2VtM6tree_t1Si3VtM6tree_t1SSFPi2SS(l_1, x_0, cmp_0, &v_0, 0), _fx_catch_0);
            FX_COPY_PTR(v_0.t0, &l_0);
            int_ dsz_0 = v_0.t1;
            FX_CALL(
               _fx_M3SetFM4NodeVtM6tree_t1S4VM7color_tVtM6tree_t1SSVtM6tree_t1S(&_fx_g8Set__Red, l_0, y_0, r_1, &v_1),
                  _fx_catch_0);
            _fx_make_T2Vt11Set__tree_t1Si(v_1, dsz_0, fx_result);
         }
         else if (c_0 > 0) {
            FX_CALL(_fx_M3SetFM12add_to_tree_T2VtM6tree_t1Si3VtM6tree_t1SSFPi2SS(r_1, x_0, cmp_0, &v_2, 0), _fx_catch_0);
            FX_COPY_PTR(v_2.t0, &r_0);
            int_ dsz_1 = v_2.t1;
            FX_CALL(
               _fx_M3SetFM4NodeVtM6tree_t1S4VM7color_tVtM6tree_t1SSVtM6tree_t1S(&_fx_g8Set__Red, l_1, y_0, r_0, &v_3),
                  _fx_catch_0);
            _fx_make_T2Vt11Set__tree_t1Si(v_3, dsz_1, fx_result);
         }
         else { _fx_make_T2Vt11Set__tree_t1Si(t_0, 0, fx_result);
         }

      _fx_catch_0: ;
         if (v_3) { _fx_free_Vt11Set__tree_t1S(&v_3);
         }
         if (r_0) { _fx_free_Vt11Set__tree_t1S(&r_0);
         }
         _fx_free_T2Vt11Set__tree_t1Si(&v_2);
         if (v_1) { _fx_free_Vt11Set__tree_t1S(&v_1);
         }
         if (l_0) { _fx_free_Vt11Set__tree_t1S(&l_0);
         }
         _fx_free_T2Vt11Set__tree_t1Si(&v_0);
         goto _fx_endmatch_0;
      }
   }
   if (tag_0 == _FX_Vt11Set__tree_t_Node) {
      _fx_T4V12Set__color_tVt11Set__tree_t1SSVt11Set__tree_t1S* vcase_1 = &t_0->u.Node;
      if (vcase_1->t0.tag == _FX_V12Set__color_t_Black) {
         _fx_T2Vt11Set__tree_t1Si v_4 = {  };
         _fx_Vt11Set__tree_t1S l_2 = 0;
         _fx_Vt11Set__tree_t1S v_5 = 0;
         _fx_T2Vt11Set__tree_t1Si v_6 = {  };
         _fx_Vt11Set__tree_t1S r_2 = 0;
         _fx_Vt11Set__tree_t1S v_7 = 0;
         _fx_Vt11Set__tree_t1S r_3 = vcase_1->t3;
         fx_str_t* y_1 = &vcase_1->t2;
         _fx_Vt11Set__tree_t1S l_3 = vcase_1->t1;
         int_ c_1;
         FX_CALL(cmp_0->fp(x_0, y_1, &c_1, cmp_0->fcv), _fx_catch_1);
         if (c_1 < 0) {
            FX_CALL(_fx_M3SetFM12add_to_tree_T2VtM6tree_t1Si3VtM6tree_t1SSFPi2SS(l_3, x_0, cmp_0, &v_4, 0), _fx_catch_1);
            FX_COPY_PTR(v_4.t0, &l_2);
            int_ dsz_2 = v_4.t1;
            if (dsz_2 > 0) {
               FX_CALL(_fx_M3SetFM12balance_leftVtM6tree_t1S3VtM6tree_t1SSVtM6tree_t1S(l_2, y_1, r_3, &v_5, 0), _fx_catch_1);
            }
            else {
               FX_CALL(
                  _fx_M3SetFM4NodeVtM6tree_t1S4VM7color_tVtM6tree_t1SSVtM6tree_t1S(&_fx_g10Set__Black, l_2, y_1, r_3, &v_5),
                     _fx_catch_1);
            }
            _fx_make_T2Vt11Set__tree_t1Si(v_5, dsz_2, fx_result);
         }
         else if (c_1 > 0) {
            FX_CALL(_fx_M3SetFM12add_to_tree_T2VtM6tree_t1Si3VtM6tree_t1SSFPi2SS(r_3, x_0, cmp_0, &v_6, 0), _fx_catch_1);
            FX_COPY_PTR(v_6.t0, &r_2);
            int_ dsz_3 = v_6.t1;
            if (dsz_3 > 0) {
               FX_CALL(_fx_M3SetFM13balance_rightVtM6tree_t1S3VtM6tree_t1SSVtM6tree_t1S(l_3, y_1, r_2, &v_7, 0), _fx_catch_1);
            }
            else {
               FX_CALL(
                  _fx_M3SetFM4NodeVtM6tree_t1S4VM7color_tVtM6tree_t1SSVtM6tree_t1S(&_fx_g10Set__Black, l_3, y_1, r_2, &v_7),
                     _fx_catch_1);
            }
            _fx_make_T2Vt11Set__tree_t1Si(v_7, dsz_3, fx_result);
         }
         else { _fx_make_T2Vt11Set__tree_t1Si(t_0, 0, fx_result);
         }

      _fx_catch_1: ;
         if (v_7) { _fx_free_Vt11Set__tree_t1S(&v_7);
         }
         if (r_2) { _fx_free_Vt11Set__tree_t1S(&r_2);
         }
         _fx_free_T2Vt11Set__tree_t1Si(&v_6);
         if (v_5) { _fx_free_Vt11Set__tree_t1S(&v_5);
         }
         if (l_2) { _fx_free_Vt11Set__tree_t1S(&l_2);
         }
         _fx_free_T2Vt11Set__tree_t1Si(&v_4);
         goto _fx_endmatch_0;
      }
   }
   _fx_Vt11Set__tree_t1S v_8 = 0;
   FX_CALL(

         _fx_M3SetFM4NodeVtM6tree_t1S4VM7color_tVtM6tree_t1SSVtM6tree_t1S(
            &_fx_g8Set__Red, _fx_g10Set__Empty, x_0, _fx_g10Set__Empty, &v_8), _fx_catch_2);
   _fx_make_T2Vt11Set__tree_t1Si(v_8, 1, fx_result);

_fx_catch_2: ;
   if (v_8) { _fx_free_Vt11Set__tree_t1S(&v_8);
   }

_fx_endmatch_0: ;

_fx_cleanup: ;
   return fx_status;
}

FX_EXTERN_C int _fx_M3SetFM3addRtM1t1V9Ast__id_t2RtM1t1V9Ast__id_tV9Ast__id_t(
   _fx_Rt6Set__t1V9Ast__id_t* s_0, _fx_V9Ast__id_t* x_0, _fx_Rt6Set__t1V9Ast__id_t* fx_result, void* fx_fv)
{
   _fx_Vt11Set__tree_t1V9Ast__id_t v_0 = 0;
   _fx_FPi2V9Ast__id_tV9Ast__id_t v_1 = {  };
   _fx_T2Vt11Set__tree_t1V9Ast__id_ti v_2 = {  };
   _fx_Vt11Set__tree_t1V9Ast__id_t t_0 = 0;
   _fx_T2Vt11Set__tree_t1V9Ast__id_tB v_3 = {  };
   _fx_Vt11Set__tree_t1V9Ast__id_t t_1 = 0;
   _fx_T2Vt11Set__tree_t1V9Ast__id_ti v_4 = {  };
   _fx_FPi2V9Ast__id_tV9Ast__id_t v_5 = {  };
   int fx_status = 0;
   FX_COPY_PTR(s_0->root, &v_0);
   FX_COPY_FP(&s_0->cmp, &v_1);
   FX_CALL(

         _fx_M3SetFM12add_to_tree_T2VtM6tree_t1V9Ast__id_ti3VtM6tree_t1V9Ast__id_tV9Ast__id_tFPi2V9Ast__id_tV9Ast__id_t(
            v_0, x_0, &v_1, &v_2, 0), _fx_cleanup);
   FX_COPY_PTR(v_2.t0, &t_0);
   int_ dsz_0 = v_2.t1;
   if (t_0 != 0 == _FX_Vt11Set__tree_t_Node) {
      _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_0 = &t_0->u.Node;
      if (vcase_0->t0.tag == _FX_V12Set__color_t_Red) {
         _fx_Vt11Set__tree_t1V9Ast__id_t v_6 = 0;
         FX_CALL(

               _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                  &_fx_g10Set__Black, vcase_0->t1, &vcase_0->t2, vcase_0->t3, &v_6), _fx_catch_0);
         _fx_make_T2Vt11Set__tree_t1V9Ast__id_tB(v_6, false, &v_3);

      _fx_catch_0: ;
         if (v_6) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_6);
         }
         goto _fx_endmatch_0;
      }
   }
   _fx_make_T2Vt11Set__tree_t1V9Ast__id_tB(t_0, true, &v_3);

_fx_endmatch_0: ;
   FX_CHECK_EXN(_fx_cleanup);
   FX_COPY_PTR(v_3.t0, &t_1);
   _fx_make_T2Vt11Set__tree_t1V9Ast__id_ti(t_1, dsz_0, &v_4);
   FX_COPY_FP(&s_0->cmp, &v_5);
   _fx_make_Rt6Set__t1V9Ast__id_t(t_1, s_0->size + dsz_0, &v_5, fx_result);

_fx_cleanup: ;
   if (v_0) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_0);
   }
   FX_FREE_FP(&v_1);
   _fx_free_T2Vt11Set__tree_t1V9Ast__id_ti(&v_2);
   if (t_0) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&t_0);
   }
   _fx_free_T2Vt11Set__tree_t1V9Ast__id_tB(&v_3);
   if (t_1) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&t_1);
   }
   _fx_free_T2Vt11Set__tree_t1V9Ast__id_ti(&v_4);
   FX_FREE_FP(&v_5);
   return fx_status;
}

FX_EXTERN_C int _fx_M3SetFM15unbalanced_leftT3VtM6tree_t1V9Ast__id_tBi2VtM6tree_t1V9Ast__id_ti(
   struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* t_0, int_ dsz_0, _fx_T3Vt11Set__tree_t1V9Ast__id_tBi* fx_result, void* fx_fv)
{
   int fx_status = 0;
   int tag_0 = t_0 != 0;
   if (tag_0 == _FX_Vt11Set__tree_t_Node) {
      _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_0 = &t_0->u.Node;
      if (vcase_0->t0.tag == _FX_V12Set__color_t_Red) {
         _fx_Vt11Set__tree_t1V9Ast__id_t v_0 = vcase_0->t1;
         if (v_0 != 0 == _FX_Vt11Set__tree_t_Node) {
            _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_1 = &v_0->u.Node;
            if (vcase_1->t0.tag == _FX_V12Set__color_t_Black) {
               _fx_Vt11Set__tree_t1V9Ast__id_t v_1 = 0;
               _fx_Vt11Set__tree_t1V9Ast__id_t v_2 = 0;
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                        &_fx_g8Set__Red, vcase_1->t1, &vcase_1->t2, vcase_1->t3, &v_1), _fx_catch_0);
               FX_CALL(

                     _fx_M3SetFM12balance_leftVtM6tree_t1V9Ast__id_t3VtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                        v_1, &vcase_0->t2, vcase_0->t3, &v_2, 0), _fx_catch_0);
               _fx_make_T3Vt11Set__tree_t1V9Ast__id_tBi(v_2, false, dsz_0, fx_result);

            _fx_catch_0: ;
               if (v_2) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_2);
               }
               if (v_1) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_1);
               }
               goto _fx_endmatch_0;
            }
         }
      }
   }
   if (tag_0 == _FX_Vt11Set__tree_t_Node) {
      _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_2 = &t_0->u.Node;
      if (vcase_2->t0.tag == _FX_V12Set__color_t_Black) {
         _fx_Vt11Set__tree_t1V9Ast__id_t v_3 = vcase_2->t1;
         if (v_3 != 0 == _FX_Vt11Set__tree_t_Node) {
            _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_3 = &v_3->u.Node;
            if (vcase_3->t0.tag == _FX_V12Set__color_t_Black) {
               _fx_Vt11Set__tree_t1V9Ast__id_t v_4 = 0;
               _fx_Vt11Set__tree_t1V9Ast__id_t v_5 = 0;
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                        &_fx_g8Set__Red, vcase_3->t1, &vcase_3->t2, vcase_3->t3, &v_4), _fx_catch_1);
               FX_CALL(

                     _fx_M3SetFM12balance_leftVtM6tree_t1V9Ast__id_t3VtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                        v_4, &vcase_2->t2, vcase_2->t3, &v_5, 0), _fx_catch_1);
               _fx_make_T3Vt11Set__tree_t1V9Ast__id_tBi(v_5, true, dsz_0, fx_result);

            _fx_catch_1: ;
               if (v_5) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_5);
               }
               if (v_4) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_4);
               }
               goto _fx_endmatch_0;
            }
         }
      }
   }
   if (tag_0 == _FX_Vt11Set__tree_t_Node) {
      _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_4 = &t_0->u.Node;
      if (vcase_4->t0.tag == _FX_V12Set__color_t_Black) {
         _fx_Vt11Set__tree_t1V9Ast__id_t v_6 = vcase_4->t1;
         if (v_6 != 0 == _FX_Vt11Set__tree_t_Node) {
            _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_5 = &v_6->u.Node;
            if (vcase_5->t0.tag == _FX_V12Set__color_t_Red) {
               _fx_Vt11Set__tree_t1V9Ast__id_t v_7 = vcase_5->t3;
               if (v_7 != 0 == _FX_Vt11Set__tree_t_Node) {
                  _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_6 =
                     &v_7->u.Node;
                  if (vcase_6->t0.tag == _FX_V12Set__color_t_Black) {
                     _fx_Vt11Set__tree_t1V9Ast__id_t v_8 = 0;
                     _fx_Vt11Set__tree_t1V9Ast__id_t v_9 = 0;
                     _fx_Vt11Set__tree_t1V9Ast__id_t v_10 = 0;
                     FX_CALL(

                           _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                              &_fx_g8Set__Red, vcase_6->t1, &vcase_6->t2, vcase_6->t3, &v_8), _fx_catch_2);
                     FX_CALL(

                           _fx_M3SetFM12balance_leftVtM6tree_t1V9Ast__id_t3VtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                              v_8, &vcase_4->t2, vcase_4->t3, &v_9, 0), _fx_catch_2);
                     FX_CALL(

                           _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                              &_fx_g10Set__Black, vcase_5->t1, &vcase_5->t2, v_9, &v_10), _fx_catch_2);
                     _fx_make_T3Vt11Set__tree_t1V9Ast__id_tBi(v_10, false, dsz_0, fx_result);

                  _fx_catch_2: ;
                     if (v_10) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_10);
                     }
                     if (v_9) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_9);
                     }
                     if (v_8) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_8);
                     }
                     goto _fx_endmatch_0;
                  }
               }
            }
         }
      }
   }
   FX_THROW(&_fx_E15Set__RBSetErrorv, false, _fx_cleanup);

_fx_endmatch_0: ;

_fx_cleanup: ;
   return fx_status;
}

FX_EXTERN_C int _fx_M3SetFM16unbalanced_rightT3VtM6tree_t1V9Ast__id_tBi2VtM6tree_t1V9Ast__id_ti(
   struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* t_0, int_ dsz_0, _fx_T3Vt11Set__tree_t1V9Ast__id_tBi* fx_result, void* fx_fv)
{
   int fx_status = 0;
   int tag_0 = t_0 != 0;
   if (tag_0 == _FX_Vt11Set__tree_t_Node) {
      _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_0 = &t_0->u.Node;
      if (vcase_0->t0.tag == _FX_V12Set__color_t_Red) {
         _fx_Vt11Set__tree_t1V9Ast__id_t v_0 = vcase_0->t3;
         if (v_0 != 0 == _FX_Vt11Set__tree_t_Node) {
            _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_1 = &v_0->u.Node;
            if (vcase_1->t0.tag == _FX_V12Set__color_t_Black) {
               _fx_Vt11Set__tree_t1V9Ast__id_t v_1 = 0;
               _fx_Vt11Set__tree_t1V9Ast__id_t v_2 = 0;
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                        &_fx_g8Set__Red, vcase_1->t1, &vcase_1->t2, vcase_1->t3, &v_1), _fx_catch_0);
               FX_CALL(

                     _fx_M3SetFM13balance_rightVtM6tree_t1V9Ast__id_t3VtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                        vcase_0->t1, &vcase_0->t2, v_1, &v_2, 0), _fx_catch_0);
               _fx_make_T3Vt11Set__tree_t1V9Ast__id_tBi(v_2, false, dsz_0, fx_result);

            _fx_catch_0: ;
               if (v_2) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_2);
               }
               if (v_1) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_1);
               }
               goto _fx_endmatch_0;
            }
         }
      }
   }
   if (tag_0 == _FX_Vt11Set__tree_t_Node) {
      _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_2 = &t_0->u.Node;
      if (vcase_2->t0.tag == _FX_V12Set__color_t_Black) {
         _fx_Vt11Set__tree_t1V9Ast__id_t v_3 = vcase_2->t3;
         if (v_3 != 0 == _FX_Vt11Set__tree_t_Node) {
            _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_3 = &v_3->u.Node;
            if (vcase_3->t0.tag == _FX_V12Set__color_t_Black) {
               _fx_Vt11Set__tree_t1V9Ast__id_t v_4 = 0;
               _fx_Vt11Set__tree_t1V9Ast__id_t v_5 = 0;
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                        &_fx_g8Set__Red, vcase_3->t1, &vcase_3->t2, vcase_3->t3, &v_4), _fx_catch_1);
               FX_CALL(

                     _fx_M3SetFM13balance_rightVtM6tree_t1V9Ast__id_t3VtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                        vcase_2->t1, &vcase_2->t2, v_4, &v_5, 0), _fx_catch_1);
               _fx_make_T3Vt11Set__tree_t1V9Ast__id_tBi(v_5, true, dsz_0, fx_result);

            _fx_catch_1: ;
               if (v_5) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_5);
               }
               if (v_4) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_4);
               }
               goto _fx_endmatch_0;
            }
         }
      }
   }
   if (tag_0 == _FX_Vt11Set__tree_t_Node) {
      _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_4 = &t_0->u.Node;
      if (vcase_4->t0.tag == _FX_V12Set__color_t_Black) {
         _fx_Vt11Set__tree_t1V9Ast__id_t v_6 = vcase_4->t3;
         if (v_6 != 0 == _FX_Vt11Set__tree_t_Node) {
            _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_5 = &v_6->u.Node;
            if (vcase_5->t0.tag == _FX_V12Set__color_t_Red) {
               _fx_Vt11Set__tree_t1V9Ast__id_t v_7 = vcase_5->t1;
               if (v_7 != 0 == _FX_Vt11Set__tree_t_Node) {
                  _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_6 =
                     &v_7->u.Node;
                  if (vcase_6->t0.tag == _FX_V12Set__color_t_Black) {
                     _fx_Vt11Set__tree_t1V9Ast__id_t v_8 = 0;
                     _fx_Vt11Set__tree_t1V9Ast__id_t v_9 = 0;
                     _fx_Vt11Set__tree_t1V9Ast__id_t v_10 = 0;
                     FX_CALL(

                           _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                              &_fx_g8Set__Red, vcase_6->t1, &vcase_6->t2, vcase_6->t3, &v_8), _fx_catch_2);
                     FX_CALL(

                           _fx_M3SetFM13balance_rightVtM6tree_t1V9Ast__id_t3VtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                              vcase_4->t1, &vcase_4->t2, v_8, &v_9, 0), _fx_catch_2);
                     FX_CALL(

                           _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                              &_fx_g10Set__Black, v_9, &vcase_5->t2, vcase_5->t3, &v_10), _fx_catch_2);
                     _fx_make_T3Vt11Set__tree_t1V9Ast__id_tBi(v_10, false, dsz_0, fx_result);

                  _fx_catch_2: ;
                     if (v_10) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_10);
                     }
                     if (v_9) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_9);
                     }
                     if (v_8) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_8);
                     }
                     goto _fx_endmatch_0;
                  }
               }
            }
         }
      }
   }
   FX_THROW(&_fx_E15Set__RBSetErrorv, false, _fx_cleanup);

_fx_endmatch_0: ;

_fx_cleanup: ;
   return fx_status;
}

FX_EXTERN_C int _fx_M3SetFM10remove_minT3VtM6tree_t1V9Ast__id_tV9Ast__id_tB1VtM6tree_t1V9Ast__id_t(
   struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* t_0, _fx_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tB* fx_result, void* fx_fv)
{
   int fx_status = 0;
   FX_CALL(fx_check_stack(), _fx_cleanup);
   int tag_0 = t_0 != 0;
   if (tag_0 == _FX_Vt11Set__tree_t_Node) {
      _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_0 = &t_0->u.Node;
      if (vcase_0->t0.tag == _FX_V12Set__color_t_Black) {
         if (vcase_0->t1 != 0 == _FX_Vt11Set__tree_t_Empty) {
            if (vcase_0->t3 != 0 == _FX_Vt11Set__tree_t_Empty) {
               _fx_make_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tB(_fx_g12Set__Empty1_, &vcase_0->t2, true, fx_result);
               goto _fx_endmatch_0;
            }
         }
      }
   }
   if (tag_0 == _FX_Vt11Set__tree_t_Node) {
      _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_1 = &t_0->u.Node;
      if (vcase_1->t0.tag == _FX_V12Set__color_t_Black) {
         if (vcase_1->t1 != 0 == _FX_Vt11Set__tree_t_Empty) {
            _fx_Vt11Set__tree_t1V9Ast__id_t v_0 = vcase_1->t3;
            if (v_0 != 0 == _FX_Vt11Set__tree_t_Node) {
               _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_2 = &v_0->u.Node;
               if (vcase_2->t0.tag == _FX_V12Set__color_t_Red) {
                  _fx_Vt11Set__tree_t1V9Ast__id_t v_1 = 0;
                  FX_CALL(

                        _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                           &_fx_g10Set__Black, vcase_2->t1, &vcase_2->t2, vcase_2->t3, &v_1), _fx_catch_0);
                  _fx_make_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tB(v_1, &vcase_1->t2, false, fx_result);

               _fx_catch_0: ;
                  if (v_1) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_1);
                  }
                  goto _fx_endmatch_0;
               }
            }
         }
      }
   }
   if (tag_0 == _FX_Vt11Set__tree_t_Node) {
      _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_3 = &t_0->u.Node;
      if (vcase_3->t0.tag == _FX_V12Set__color_t_Red) {
         if (vcase_3->t1 != 0 == _FX_Vt11Set__tree_t_Empty) {
            _fx_make_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tB(vcase_3->t3, &vcase_3->t2, false, fx_result);
            goto _fx_endmatch_0;
         }
      }
   }
   if (tag_0 == _FX_Vt11Set__tree_t_Node) {
      _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_4 = &t_0->u.Node;
      if (vcase_4->t0.tag == _FX_V12Set__color_t_Black) {
         _fx_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tB v_2 = {  };
         _fx_Vt11Set__tree_t1V9Ast__id_t l_0 = 0;
         _fx_Vt11Set__tree_t1V9Ast__id_t s_0 = 0;
         _fx_T3Vt11Set__tree_t1V9Ast__id_tBi v_3 = {  };
         _fx_Vt11Set__tree_t1V9Ast__id_t s_1 = 0;
         FX_CALL(
            _fx_M3SetFM10remove_minT3VtM6tree_t1V9Ast__id_tV9Ast__id_tB1VtM6tree_t1V9Ast__id_t(vcase_4->t1, &v_2, 0),
               _fx_catch_1);
         FX_COPY_PTR(v_2.t0, &l_0);
         _fx_V9Ast__id_t y_0 = v_2.t1;
         bool d_0 = v_2.t2;
         FX_CALL(

               _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                  &_fx_g10Set__Black, l_0, &vcase_4->t2, vcase_4->t3, &s_0), _fx_catch_1);
         if (d_0) {
            FX_CALL(
               _fx_M3SetFM16unbalanced_rightT3VtM6tree_t1V9Ast__id_tBi2VtM6tree_t1V9Ast__id_ti(s_0, 0, &v_3, 0), _fx_catch_1);
            FX_COPY_PTR(v_3.t0, &s_1);
            bool d_1 = v_3.t1;
            _fx_make_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tB(s_1, &y_0, d_1, fx_result);
         }
         else { _fx_make_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tB(s_0, &y_0, false, fx_result);
         }

      _fx_catch_1: ;
         if (s_1) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&s_1);
         }
         _fx_free_T3Vt11Set__tree_t1V9Ast__id_tBi(&v_3);
         if (s_0) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&s_0);
         }
         if (l_0) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&l_0);
         }
         _fx_free_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tB(&v_2);
         goto _fx_endmatch_0;
      }
   }
   if (tag_0 == _FX_Vt11Set__tree_t_Node) {
      _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_5 = &t_0->u.Node;
      if (vcase_5->t0.tag == _FX_V12Set__color_t_Red) {
         _fx_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tB v_4 = {  };
         _fx_Vt11Set__tree_t1V9Ast__id_t l_1 = 0;
         _fx_Vt11Set__tree_t1V9Ast__id_t s_2 = 0;
         _fx_T3Vt11Set__tree_t1V9Ast__id_tBi v_5 = {  };
         _fx_Vt11Set__tree_t1V9Ast__id_t s_3 = 0;
         FX_CALL(
            _fx_M3SetFM10remove_minT3VtM6tree_t1V9Ast__id_tV9Ast__id_tB1VtM6tree_t1V9Ast__id_t(vcase_5->t1, &v_4, 0),
               _fx_catch_2);
         FX_COPY_PTR(v_4.t0, &l_1);
         _fx_V9Ast__id_t y_1 = v_4.t1;
         bool d_2 = v_4.t2;
         FX_CALL(

               _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                  &_fx_g8Set__Red, l_1, &vcase_5->t2, vcase_5->t3, &s_2), _fx_catch_2);
         if (d_2) {
            FX_CALL(
               _fx_M3SetFM16unbalanced_rightT3VtM6tree_t1V9Ast__id_tBi2VtM6tree_t1V9Ast__id_ti(s_2, 0, &v_5, 0), _fx_catch_2);
            FX_COPY_PTR(v_5.t0, &s_3);
            bool d_3 = v_5.t1;
            _fx_make_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tB(s_3, &y_1, d_3, fx_result);
         }
         else { _fx_make_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tB(s_2, &y_1, false, fx_result);
         }

      _fx_catch_2: ;
         if (s_3) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&s_3);
         }
         _fx_free_T3Vt11Set__tree_t1V9Ast__id_tBi(&v_5);
         if (s_2) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&s_2);
         }
         if (l_1) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&l_1);
         }
         _fx_free_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tB(&v_4);
         goto _fx_endmatch_0;
      }
   }
   FX_THROW(&_fx_E15Set__RBSetErrorv, false, _fx_cleanup);

_fx_endmatch_0: ;

_fx_cleanup: ;
   return fx_status;
}

FX_EXTERN_C int _fx_M3SetFM7remove_T3VtM6tree_t1V9Ast__id_tBi3VtM6tree_t1V9Ast__id_tV9Ast__id_tFPi2V9Ast__id_tV9Ast__id_t(
   struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* t_0,
      _fx_V9Ast__id_t* x_0,
      _fx_FPi2V9Ast__id_tV9Ast__id_t* cmp_0,
      _fx_T3Vt11Set__tree_t1V9Ast__id_tBi* fx_result,
      void* fx_fv)
{
   int fx_status = 0;
   FX_CALL(fx_check_stack(), _fx_cleanup);
   int tag_0 = t_0 != 0;
   if (tag_0 == _FX_Vt11Set__tree_t_Node) {
      _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_0 = &t_0->u.Node;
      if (vcase_0->t0.tag == _FX_V12Set__color_t_Black) {
         _fx_T3Vt11Set__tree_t1V9Ast__id_tBi v_0 = {  };
         _fx_Vt11Set__tree_t1V9Ast__id_t l_0 = 0;
         _fx_Vt11Set__tree_t1V9Ast__id_t s_0 = 0;
         _fx_T3Vt11Set__tree_t1V9Ast__id_tBi v_1 = {  };
         _fx_Vt11Set__tree_t1V9Ast__id_t r_0 = 0;
         _fx_Vt11Set__tree_t1V9Ast__id_t s_1 = 0;
         _fx_Vt11Set__tree_t1V9Ast__id_t r_1 = vcase_0->t3;
         _fx_V9Ast__id_t* y_0 = &vcase_0->t2;
         _fx_Vt11Set__tree_t1V9Ast__id_t l_1 = vcase_0->t1;
         int_ c_0;
         FX_CALL(cmp_0->fp(x_0, y_0, &c_0, cmp_0->fcv), _fx_catch_3);
         if (c_0 < 0) {
            FX_CALL(

                  _fx_M3SetFM7remove_T3VtM6tree_t1V9Ast__id_tBi3VtM6tree_t1V9Ast__id_tV9Ast__id_tFPi2V9Ast__id_tV9Ast__id_t(
                     l_1, x_0, cmp_0, &v_0, 0), _fx_catch_3);
            FX_COPY_PTR(v_0.t0, &l_0);
            bool d_0 = v_0.t1;
            int_ dsz_0 = v_0.t2;
            FX_CALL(

                  _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                     &_fx_g10Set__Black, l_0, y_0, r_1, &s_0), _fx_catch_3);
            if (d_0) {
               FX_CALL(
                  _fx_M3SetFM16unbalanced_rightT3VtM6tree_t1V9Ast__id_tBi2VtM6tree_t1V9Ast__id_ti(s_0, dsz_0, fx_result, 0),
                     _fx_catch_3);
            }
            else { _fx_make_T3Vt11Set__tree_t1V9Ast__id_tBi(s_0, false, dsz_0, fx_result);
            }
         }
         else if (c_0 > 0) {
            FX_CALL(

                  _fx_M3SetFM7remove_T3VtM6tree_t1V9Ast__id_tBi3VtM6tree_t1V9Ast__id_tV9Ast__id_tFPi2V9Ast__id_tV9Ast__id_t(
                     r_1, x_0, cmp_0, &v_1, 0), _fx_catch_3);
            FX_COPY_PTR(v_1.t0, &r_0);
            bool d_1 = v_1.t1;
            int_ dsz_1 = v_1.t2;
            FX_CALL(

                  _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                     &_fx_g10Set__Black, l_1, y_0, r_0, &s_1), _fx_catch_3);
            if (d_1) {
               FX_CALL(
                  _fx_M3SetFM15unbalanced_leftT3VtM6tree_t1V9Ast__id_tBi2VtM6tree_t1V9Ast__id_ti(s_1, dsz_1, fx_result, 0),
                     _fx_catch_3);
            }
            else { _fx_make_T3Vt11Set__tree_t1V9Ast__id_tBi(s_1, false, dsz_1, fx_result);
            }
         }
         else {
            if (r_1 != 0 == _FX_Vt11Set__tree_t_Empty) {
               _fx_T2Vt11Set__tree_t1V9Ast__id_tB v_2 = {  };
               _fx_Vt11Set__tree_t1V9Ast__id_t l_2 = 0;
               if (l_1 != 0 == _FX_Vt11Set__tree_t_Node) {
                  _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_1 =
                     &l_1->u.Node;
                  if (vcase_1->t0.tag == _FX_V12Set__color_t_Red) {
                     _fx_Vt11Set__tree_t1V9Ast__id_t v_3 = 0;
                     FX_CALL(

                           _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                              &_fx_g10Set__Black, vcase_1->t1, &vcase_1->t2, vcase_1->t3, &v_3), _fx_catch_0);
                     _fx_make_T2Vt11Set__tree_t1V9Ast__id_tB(v_3, false, &v_2);

                  _fx_catch_0: ;
                     if (v_3) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_3);
                     }
                     goto _fx_endmatch_0;
                  }
               }
               _fx_make_T2Vt11Set__tree_t1V9Ast__id_tB(l_1, true, &v_2);

            _fx_endmatch_0: ;
               FX_CHECK_EXN(_fx_catch_1);
               FX_COPY_PTR(v_2.t0, &l_2);
               bool d_2 = v_2.t1;
               _fx_make_T3Vt11Set__tree_t1V9Ast__id_tBi(l_2, d_2, -1, fx_result);

            _fx_catch_1: ;
               if (l_2) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&l_2);
               }
               _fx_free_T2Vt11Set__tree_t1V9Ast__id_tB(&v_2);
            }
            else {
               _fx_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tB v_4 = {  };
               _fx_Vt11Set__tree_t1V9Ast__id_t r_2 = 0;
               _fx_Vt11Set__tree_t1V9Ast__id_t s_2 = 0;
               FX_CALL(
                  _fx_M3SetFM10remove_minT3VtM6tree_t1V9Ast__id_tV9Ast__id_tB1VtM6tree_t1V9Ast__id_t(r_1, &v_4, 0),
                     _fx_catch_2);
               FX_COPY_PTR(v_4.t0, &r_2);
               _fx_V9Ast__id_t y_1 = v_4.t1;
               bool d_3 = v_4.t2;
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                        &_fx_g10Set__Black, l_1, &y_1, r_2, &s_2), _fx_catch_2);
               if (d_3) {
                  FX_CALL(
                     _fx_M3SetFM15unbalanced_leftT3VtM6tree_t1V9Ast__id_tBi2VtM6tree_t1V9Ast__id_ti(s_2, -1, fx_result, 0),
                        _fx_catch_2);
               }
               else { _fx_make_T3Vt11Set__tree_t1V9Ast__id_tBi(s_2, false, -1, fx_result);
               }

            _fx_catch_2: ;
               if (s_2) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&s_2);
               }
               if (r_2) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&r_2);
               }
               _fx_free_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tB(&v_4);
            }
            FX_CHECK_EXN(_fx_catch_3);
         }

      _fx_catch_3: ;
         if (s_1) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&s_1);
         }
         if (r_0) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&r_0);
         }
         _fx_free_T3Vt11Set__tree_t1V9Ast__id_tBi(&v_1);
         if (s_0) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&s_0);
         }
         if (l_0) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&l_0);
         }
         _fx_free_T3Vt11Set__tree_t1V9Ast__id_tBi(&v_0);
         goto _fx_endmatch_1;
      }
   }
   if (tag_0 == _FX_Vt11Set__tree_t_Node) {
      _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_2 = &t_0->u.Node;
      if (vcase_2->t0.tag == _FX_V12Set__color_t_Red) {
         _fx_T3Vt11Set__tree_t1V9Ast__id_tBi v_5 = {  };
         _fx_Vt11Set__tree_t1V9Ast__id_t l_3 = 0;
         _fx_Vt11Set__tree_t1V9Ast__id_t s_3 = 0;
         _fx_T3Vt11Set__tree_t1V9Ast__id_tBi v_6 = {  };
         _fx_Vt11Set__tree_t1V9Ast__id_t r_3 = 0;
         _fx_Vt11Set__tree_t1V9Ast__id_t s_4 = 0;
         _fx_Vt11Set__tree_t1V9Ast__id_t r_4 = vcase_2->t3;
         _fx_V9Ast__id_t* y_2 = &vcase_2->t2;
         _fx_Vt11Set__tree_t1V9Ast__id_t l_4 = vcase_2->t1;
         int_ c_1;
         FX_CALL(cmp_0->fp(x_0, y_2, &c_1, cmp_0->fcv), _fx_catch_5);
         if (c_1 < 0) {
            FX_CALL(

                  _fx_M3SetFM7remove_T3VtM6tree_t1V9Ast__id_tBi3VtM6tree_t1V9Ast__id_tV9Ast__id_tFPi2V9Ast__id_tV9Ast__id_t(
                     l_4, x_0, cmp_0, &v_5, 0), _fx_catch_5);
            FX_COPY_PTR(v_5.t0, &l_3);
            bool d_4 = v_5.t1;
            int_ dsz_2 = v_5.t2;
            FX_CALL(

                  _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                     &_fx_g8Set__Red, l_3, y_2, r_4, &s_3), _fx_catch_5);
            if (d_4) {
               FX_CALL(
                  _fx_M3SetFM16unbalanced_rightT3VtM6tree_t1V9Ast__id_tBi2VtM6tree_t1V9Ast__id_ti(s_3, dsz_2, fx_result, 0),
                     _fx_catch_5);
            }
            else { _fx_make_T3Vt11Set__tree_t1V9Ast__id_tBi(s_3, false, dsz_2, fx_result);
            }
         }
         else if (c_1 > 0) {
            FX_CALL(

                  _fx_M3SetFM7remove_T3VtM6tree_t1V9Ast__id_tBi3VtM6tree_t1V9Ast__id_tV9Ast__id_tFPi2V9Ast__id_tV9Ast__id_t(
                     r_4, x_0, cmp_0, &v_6, 0), _fx_catch_5);
            FX_COPY_PTR(v_6.t0, &r_3);
            bool d_5 = v_6.t1;
            int_ dsz_3 = v_6.t2;
            FX_CALL(

                  _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                     &_fx_g8Set__Red, l_4, y_2, r_3, &s_4), _fx_catch_5);
            if (d_5) {
               FX_CALL(
                  _fx_M3SetFM15unbalanced_leftT3VtM6tree_t1V9Ast__id_tBi2VtM6tree_t1V9Ast__id_ti(s_4, dsz_3, fx_result, 0),
                     _fx_catch_5);
            }
            else { _fx_make_T3Vt11Set__tree_t1V9Ast__id_tBi(s_4, false, dsz_3, fx_result);
            }
         }
         else {
            if (r_4 != 0 == _FX_Vt11Set__tree_t_Empty) { _fx_make_T3Vt11Set__tree_t1V9Ast__id_tBi(l_4, false, -1, fx_result);
            }
            else {
               _fx_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tB v_7 = {  };
               _fx_Vt11Set__tree_t1V9Ast__id_t r_5 = 0;
               _fx_Vt11Set__tree_t1V9Ast__id_t s_5 = 0;
               FX_CALL(
                  _fx_M3SetFM10remove_minT3VtM6tree_t1V9Ast__id_tV9Ast__id_tB1VtM6tree_t1V9Ast__id_t(r_4, &v_7, 0),
                     _fx_catch_4);
               FX_COPY_PTR(v_7.t0, &r_5);
               _fx_V9Ast__id_t y_3 = v_7.t1;
               bool d_6 = v_7.t2;
               FX_CALL(

                     _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                        &_fx_g8Set__Red, l_4, &y_3, r_5, &s_5), _fx_catch_4);
               if (d_6) {
                  FX_CALL(
                     _fx_M3SetFM15unbalanced_leftT3VtM6tree_t1V9Ast__id_tBi2VtM6tree_t1V9Ast__id_ti(s_5, -1, fx_result, 0),
                        _fx_catch_4);
               }
               else { _fx_make_T3Vt11Set__tree_t1V9Ast__id_tBi(s_5, false, -1, fx_result);
               }

            _fx_catch_4: ;
               if (s_5) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&s_5);
               }
               if (r_5) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&r_5);
               }
               _fx_free_T3Vt11Set__tree_t1V9Ast__id_tV9Ast__id_tB(&v_7);
            }
            FX_CHECK_EXN(_fx_catch_5);
         }

      _fx_catch_5: ;
         if (s_4) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&s_4);
         }
         if (r_3) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&r_3);
         }
         _fx_free_T3Vt11Set__tree_t1V9Ast__id_tBi(&v_6);
         if (s_3) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&s_3);
         }
         if (l_3) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&l_3);
         }
         _fx_free_T3Vt11Set__tree_t1V9Ast__id_tBi(&v_5);
         goto _fx_endmatch_1;
      }
   }
   _fx_make_T3Vt11Set__tree_t1V9Ast__id_tBi(_fx_g12Set__Empty1_, false, 0, fx_result);

_fx_endmatch_1: ;

_fx_cleanup: ;
   return fx_status;
}

FX_EXTERN_C int _fx_M3SetFM6removeRtM1t1V9Ast__id_t2RtM1t1V9Ast__id_tV9Ast__id_t(
   _fx_Rt6Set__t1V9Ast__id_t* s_0, _fx_V9Ast__id_t* x_0, _fx_Rt6Set__t1V9Ast__id_t* fx_result, void* fx_fv)
{
   _fx_Vt11Set__tree_t1V9Ast__id_t v_0 = 0;
   _fx_FPi2V9Ast__id_tV9Ast__id_t v_1 = {  };
   _fx_T3Vt11Set__tree_t1V9Ast__id_tBi v_2 = {  };
   _fx_Vt11Set__tree_t1V9Ast__id_t new_root_0 = 0;
   _fx_FPi2V9Ast__id_tV9Ast__id_t v_3 = {  };
   int fx_status = 0;
   FX_COPY_PTR(s_0->root, &v_0);
   FX_COPY_FP(&s_0->cmp, &v_1);
   FX_CALL(

         _fx_M3SetFM7remove_T3VtM6tree_t1V9Ast__id_tBi3VtM6tree_t1V9Ast__id_tV9Ast__id_tFPi2V9Ast__id_tV9Ast__id_t(
            v_0, x_0, &v_1, &v_2, 0), _fx_cleanup);
   FX_COPY_PTR(v_2.t0, &new_root_0);
   int_ dsz_0 = v_2.t2;
   FX_COPY_FP(&s_0->cmp, &v_3);
   _fx_make_Rt6Set__t1V9Ast__id_t(new_root_0, s_0->size + dsz_0, &v_3, fx_result);

_fx_cleanup: ;
   if (v_0) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_0);
   }
   FX_FREE_FP(&v_1);
   _fx_free_T3Vt11Set__tree_t1V9Ast__id_tBi(&v_2);
   if (new_root_0) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&new_root_0);
   }
   FX_FREE_FP(&v_3);
   return fx_status;
}

FX_EXTERN_C int _fx_M3SetFM4app_v2VtM6tree_t1V9Ast__id_tFPv1V9Ast__id_t(
   struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* t_0, _fx_FPv1V9Ast__id_t* f_0, void* fx_fv)
{
   _fx_Vt11Set__tree_t1V9Ast__id_t t_1 = 0;
   _fx_FPv1V9Ast__id_t f_1 = {  };
   int fx_status = 0;
   FX_CALL(fx_check_stack(), _fx_cleanup);
   FX_COPY_PTR(t_0, &t_1);
   FX_COPY_FP(f_0, &f_1);
   for (;;) {
      _fx_Vt11Set__tree_t1V9Ast__id_t t_2 = 0;
      _fx_FPv1V9Ast__id_t f_2 = {  };
      FX_COPY_PTR(t_1, &t_2);
      FX_COPY_FP(&f_1, &f_2);
      if (t_2 != 0 == _FX_Vt11Set__tree_t_Node) {
         _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_0 = &t_2->u.Node;
         FX_CALL(_fx_M3SetFM4app_v2VtM6tree_t1V9Ast__id_tFPv1V9Ast__id_t(vcase_0->t1, &f_2, 0), _fx_catch_0);
         FX_CALL(f_2.fp(&vcase_0->t2, f_2.fcv), _fx_catch_0);
         _fx_Vt11Set__tree_t1V9Ast__id_t* r_0 = &vcase_0->t3;
         _fx_free_Vt11Set__tree_t1V9Ast__id_t(&t_1);
         FX_COPY_PTR(*r_0, &t_1);
         FX_FREE_FP(&f_1);
         FX_COPY_FP(&f_2, &f_1);

      _fx_catch_0: ;
      }
      else { FX_BREAK(_fx_catch_1);  _fx_catch_1: ;
      }
      FX_CHECK_EXN(_fx_catch_2);

   _fx_catch_2: ;
      FX_FREE_FP(&f_2);
      if (t_2) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&t_2);
      }
      FX_CHECK_BREAK();
      FX_CHECK_EXN(_fx_cleanup);
   }

_fx_cleanup: ;
   if (t_1) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&t_1);
   }
   FX_FREE_FP(&f_1);
   return fx_status;
}

FX_EXTERN_C int _fx_M3SetFM3appv2RtM1t1V9Ast__id_tFPv1V9Ast__id_t(
   _fx_Rt6Set__t1V9Ast__id_t* s_0, _fx_FPv1V9Ast__id_t* f_0, void* fx_fv)
{
   _fx_Vt11Set__tree_t1V9Ast__id_t v_0 = 0;
   int fx_status = 0;
   FX_COPY_PTR(s_0->root, &v_0);
   FX_CALL(_fx_M3SetFM4app_v2VtM6tree_t1V9Ast__id_tFPv1V9Ast__id_t(v_0, f_0, 0), _fx_cleanup);

_fx_cleanup: ;
   if (v_0) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_0);
   }
   return fx_status;
}

FX_EXTERN_C int _fx_M3SetFM12update_list_LS3VtM6tree_t1V9Ast__id_tFPS1V9Ast__id_tLS(
   struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* t_0,
      _fx_FPS1V9Ast__id_t* f_0,
      struct _fx_LS_data_t* res_0,
      struct _fx_LS_data_t** fx_result,
      void* fx_fv)
{
   _fx_LS res_1 = 0;
   _fx_Vt11Set__tree_t1V9Ast__id_t t_1 = 0;
   _fx_FPS1V9Ast__id_t f_1 = {  };
   _fx_LS res_2 = 0;
   int fx_status = 0;
   FX_CALL(fx_check_stack(), _fx_cleanup);
   FX_COPY_PTR(t_0, &t_1);
   FX_COPY_FP(f_0, &f_1);
   FX_COPY_PTR(res_0, &res_2);
   for (;;) {
      _fx_Vt11Set__tree_t1V9Ast__id_t t_2 = 0;
      _fx_FPS1V9Ast__id_t f_2 = {  };
      _fx_LS res_3 = 0;
      FX_COPY_PTR(t_1, &t_2);
      FX_COPY_FP(&f_1, &f_2);
      FX_COPY_PTR(res_2, &res_3);
      if (t_2 != 0 == _FX_Vt11Set__tree_t_Node) {
         fx_str_t v_0 = {  };
         _fx_LS v_1 = 0;
         _fx_LS v_2 = 0;
         _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_0 = &t_2->u.Node;
         FX_CALL(f_2.fp(&vcase_0->t2, &v_0, f_2.fcv), _fx_catch_0);
         FX_CALL(
            _fx_M3SetFM12update_list_LS3VtM6tree_t1V9Ast__id_tFPS1V9Ast__id_tLS(vcase_0->t3, &f_2, res_3, &v_1, 0),
               _fx_catch_0);
         FX_CALL(_fx_cons_LS(&v_0, v_1, true, &v_2), _fx_catch_0);
         _fx_Vt11Set__tree_t1V9Ast__id_t* l_0 = &vcase_0->t1;
         _fx_free_Vt11Set__tree_t1V9Ast__id_t(&t_1);
         FX_COPY_PTR(*l_0, &t_1);
         FX_FREE_FP(&f_1);
         FX_COPY_FP(&f_2, &f_1);
         _fx_free_LS(&res_2);
         FX_COPY_PTR(v_2, &res_2);

      _fx_catch_0: ;
         if (v_2) { _fx_free_LS(&v_2);
         }
         if (v_1) { _fx_free_LS(&v_1);
         }
         FX_FREE_STR(&v_0);
      }
      else { _fx_free_LS(&res_1); FX_COPY_PTR(res_3, &res_1); FX_BREAK(_fx_catch_1);  _fx_catch_1: ;
      }
      FX_CHECK_EXN(_fx_catch_2);

   _fx_catch_2: ;
      if (res_3) { _fx_free_LS(&res_3);
      }
      FX_FREE_FP(&f_2);
      if (t_2) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&t_2);
      }
      FX_CHECK_BREAK();
      FX_CHECK_EXN(_fx_cleanup);
   }
   FX_COPY_PTR(res_1, fx_result);

_fx_cleanup: ;
   if (res_1) { _fx_free_LS(&res_1);
   }
   if (t_1) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&t_1);
   }
   FX_FREE_FP(&f_1);
   if (res_2) { _fx_free_LS(&res_2);
   }
   return fx_status;
}

FX_EXTERN_C int _fx_M3SetFM3mapLS2RtM1t1V9Ast__id_tFPS1V9Ast__id_t(
   _fx_Rt6Set__t1V9Ast__id_t* s_0, _fx_FPS1V9Ast__id_t* f_0, struct _fx_LS_data_t** fx_result, void* fx_fv)
{
   _fx_Vt11Set__tree_t1V9Ast__id_t v_0 = 0;
   int fx_status = 0;
   FX_COPY_PTR(s_0->root, &v_0);
   FX_CALL(_fx_M3SetFM12update_list_LS3VtM6tree_t1V9Ast__id_tFPS1V9Ast__id_tLS(v_0, f_0, 0, fx_result, 0), _fx_cleanup);

_fx_cleanup: ;
   if (v_0) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_0);
   }
   return fx_status;
}

FX_EXTERN_C int _fx_M3SetFM7filter_RtM1t1V9Ast__id_t3VtM6tree_t1V9Ast__id_tFPB1V9Ast__id_tRtM1t1V9Ast__id_t(
   struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* t_0,
      _fx_FPB1V9Ast__id_t* f_0,
      _fx_Rt6Set__t1V9Ast__id_t* res_0,
      _fx_Rt6Set__t1V9Ast__id_t* fx_result,
      void* fx_fv)
{
   _fx_Rt6Set__t1V9Ast__id_t res_1 = {  };
   _fx_Vt11Set__tree_t1V9Ast__id_t t_1 = 0;
   _fx_FPB1V9Ast__id_t f_1 = {  };
   _fx_Rt6Set__t1V9Ast__id_t res_2 = {  };
   int fx_status = 0;
   FX_CALL(fx_check_stack(), _fx_cleanup);
   FX_COPY_PTR(t_0, &t_1);
   FX_COPY_FP(f_0, &f_1);
   _fx_copy_Rt6Set__t1V9Ast__id_t(res_0, &res_2);
   for (;;) {
      _fx_Vt11Set__tree_t1V9Ast__id_t t_2 = 0;
      _fx_FPB1V9Ast__id_t f_2 = {  };
      _fx_Rt6Set__t1V9Ast__id_t res_3 = {  };
      FX_COPY_PTR(t_1, &t_2);
      FX_COPY_FP(&f_1, &f_2);
      _fx_copy_Rt6Set__t1V9Ast__id_t(&res_2, &res_3);
      if (t_2 != 0 == _FX_Vt11Set__tree_t_Node) {
         _fx_Rt6Set__t1V9Ast__id_t res_4 = {  };
         _fx_Rt6Set__t1V9Ast__id_t res_5 = {  };
         _fx_Vt11Set__tree_t1V9Ast__id_t v_0 = 0;
         _fx_FPi2V9Ast__id_tV9Ast__id_t v_1 = {  };
         _fx_T2Vt11Set__tree_t1V9Ast__id_ti v_2 = {  };
         _fx_Vt11Set__tree_t1V9Ast__id_t t_3 = 0;
         _fx_T2Vt11Set__tree_t1V9Ast__id_tB v_3 = {  };
         _fx_Vt11Set__tree_t1V9Ast__id_t t_4 = 0;
         _fx_T2Vt11Set__tree_t1V9Ast__id_ti v_4 = {  };
         _fx_FPi2V9Ast__id_tV9Ast__id_t v_5 = {  };
         _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_0 = &t_2->u.Node;
         _fx_V9Ast__id_t* x_0 = &vcase_0->t2;
         FX_CALL(

               _fx_M3SetFM7filter_RtM1t1V9Ast__id_t3VtM6tree_t1V9Ast__id_tFPB1V9Ast__id_tRtM1t1V9Ast__id_t(
                  vcase_0->t1, &f_2, &res_3, &res_4, 0), _fx_catch_1);
         bool v_6;
         FX_CALL(f_2.fp(x_0, &v_6, f_2.fcv), _fx_catch_1);
         if (v_6) {
            FX_COPY_PTR(res_4.root, &v_0);
            FX_COPY_FP(&res_4.cmp, &v_1);
            FX_CALL(

                  _fx_M3SetFM12add_to_tree_T2VtM6tree_t1V9Ast__id_ti3VtM6tree_t1V9Ast__id_tV9Ast__id_tFPi2V9Ast__id_tV9Ast__id_t(
                     v_0, x_0, &v_1, &v_2, 0), _fx_catch_1);
            FX_COPY_PTR(v_2.t0, &t_3);
            int_ dsz_0 = v_2.t1;
            if (t_3 != 0 == _FX_Vt11Set__tree_t_Node) {
               _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_1 = &t_3->u.Node;
               if (vcase_1->t0.tag == _FX_V12Set__color_t_Red) {
                  _fx_Vt11Set__tree_t1V9Ast__id_t v_7 = 0;
                  FX_CALL(

                        _fx_M3SetFM4NodeVtM6tree_t1V9Ast__id_t4VM7color_tVtM6tree_t1V9Ast__id_tV9Ast__id_tVtM6tree_t1V9Ast__id_t(
                           &_fx_g10Set__Black, vcase_1->t1, &vcase_1->t2, vcase_1->t3, &v_7), _fx_catch_0);
                  _fx_make_T2Vt11Set__tree_t1V9Ast__id_tB(v_7, false, &v_3);

               _fx_catch_0: ;
                  if (v_7) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_7);
                  }
                  goto _fx_endmatch_0;
               }
            }
            _fx_make_T2Vt11Set__tree_t1V9Ast__id_tB(t_3, true, &v_3);

         _fx_endmatch_0: ;
            FX_CHECK_EXN(_fx_catch_1);
            FX_COPY_PTR(v_3.t0, &t_4);
            _fx_make_T2Vt11Set__tree_t1V9Ast__id_ti(t_4, dsz_0, &v_4);
            FX_COPY_FP(&res_4.cmp, &v_5);
            _fx_make_Rt6Set__t1V9Ast__id_t(t_4, res_4.size + dsz_0, &v_5, &res_5);
         }
         else { _fx_copy_Rt6Set__t1V9Ast__id_t(&res_4, &res_5);
         }
         _fx_Vt11Set__tree_t1V9Ast__id_t* r_0 = &vcase_0->t3;
         _fx_free_Vt11Set__tree_t1V9Ast__id_t(&t_1);
         FX_COPY_PTR(*r_0, &t_1);
         FX_FREE_FP(&f_1);
         FX_COPY_FP(&f_2, &f_1);
         _fx_free_Rt6Set__t1V9Ast__id_t(&res_2);
         _fx_copy_Rt6Set__t1V9Ast__id_t(&res_5, &res_2);

      _fx_catch_1: ;
         FX_FREE_FP(&v_5);
         _fx_free_T2Vt11Set__tree_t1V9Ast__id_ti(&v_4);
         if (t_4) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&t_4);
         }
         _fx_free_T2Vt11Set__tree_t1V9Ast__id_tB(&v_3);
         if (t_3) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&t_3);
         }
         _fx_free_T2Vt11Set__tree_t1V9Ast__id_ti(&v_2);
         FX_FREE_FP(&v_1);
         if (v_0) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_0);
         }
         _fx_free_Rt6Set__t1V9Ast__id_t(&res_5);
         _fx_free_Rt6Set__t1V9Ast__id_t(&res_4);
      }
      else {
         _fx_free_Rt6Set__t1V9Ast__id_t(&res_1);
         _fx_copy_Rt6Set__t1V9Ast__id_t(&res_3, &res_1);
         FX_BREAK(_fx_catch_2);

      _fx_catch_2: ;
      }
      FX_CHECK_EXN(_fx_catch_3);

   _fx_catch_3: ;
      _fx_free_Rt6Set__t1V9Ast__id_t(&res_3);
      FX_FREE_FP(&f_2);
      if (t_2) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&t_2);
      }
      FX_CHECK_BREAK();
      FX_CHECK_EXN(_fx_cleanup);
   }
   _fx_copy_Rt6Set__t1V9Ast__id_t(&res_1, fx_result);

_fx_cleanup: ;
   _fx_free_Rt6Set__t1V9Ast__id_t(&res_1);
   if (t_1) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&t_1);
   }
   FX_FREE_FP(&f_1);
   _fx_free_Rt6Set__t1V9Ast__id_t(&res_2);
   return fx_status;
}

FX_EXTERN_C int _fx_M3SetFM6filterRtM1t1V9Ast__id_t2RtM1t1V9Ast__id_tFPB1V9Ast__id_t(
   _fx_Rt6Set__t1V9Ast__id_t* s_0, _fx_FPB1V9Ast__id_t* f_0, _fx_Rt6Set__t1V9Ast__id_t* fx_result, void* fx_fv)
{
   _fx_Vt11Set__tree_t1V9Ast__id_t v_0 = 0;
   _fx_FPi2V9Ast__id_tV9Ast__id_t v_1 = {  };
   _fx_Rt6Set__t1V9Ast__id_t v_2 = {  };
   int fx_status = 0;
   FX_COPY_PTR(s_0->root, &v_0);
   FX_COPY_FP(&s_0->cmp, &v_1);
   _fx_make_Rt6Set__t1V9Ast__id_t(_fx_g12Set__Empty1_, 0, &v_1, &v_2);
   FX_CALL(
      _fx_M3SetFM7filter_RtM1t1V9Ast__id_t3VtM6tree_t1V9Ast__id_tFPB1V9Ast__id_tRtM1t1V9Ast__id_t(v_0, f_0, &v_2, fx_result, 0),
         _fx_cleanup);

_fx_cleanup: ;
   if (v_0) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&v_0);
   }
   FX_FREE_FP(&v_1);
   _fx_free_Rt6Set__t1V9Ast__id_t(&v_2);
   return fx_status;
}

FX_EXTERN_C int _fx_M3SetFM8add_listRtM1t1S2RtM1t1SLS(
   _fx_Rt6Set__t1S* s_0, struct _fx_LS_data_t* l_0, _fx_Rt6Set__t1S* fx_result, void* fx_fv)
{
   _fx_FPi2SS cmp_0 = {  };
   _fx_Vt11Set__tree_t1S v_0 = 0;
   _fx_T2Vt11Set__tree_t1Si __fold_result___0 = {  };
   _fx_T2Vt11Set__tree_t1Si v_1 = {  };
   _fx_Vt11Set__tree_t1S new_root_0 = 0;
   int fx_status = 0;
   FX_COPY_FP(&s_0->cmp, &cmp_0);
   FX_COPY_PTR(s_0->root, &v_0);
   _fx_make_T2Vt11Set__tree_t1Si(v_0, s_0->size, &__fold_result___0);
   _fx_LS lst_0 = l_0;
   for (; lst_0; lst_0 = lst_0->tl) {
      _fx_T2Vt11Set__tree_t1Si v_2 = {  };
      _fx_Vt11Set__tree_t1S new_root_1 = 0;
      _fx_T2Vt11Set__tree_t1Si v_3 = {  };
      _fx_Vt11Set__tree_t1S t_0 = 0;
      _fx_T2Vt11Set__tree_t1SB v_4 = {  };
      _fx_Vt11Set__tree_t1S t_1 = 0;
      _fx_T2Vt11Set__tree_t1Si v_5 = {  };
      _fx_T2Vt11Set__tree_t1Si v_6 = {  };
      fx_str_t* x_0 = &lst_0->hd;
      _fx_copy_T2Vt11Set__tree_t1Si(&__fold_result___0, &v_2);
      FX_COPY_PTR(v_2.t0, &new_root_1);
      FX_CALL(_fx_M3SetFM12add_to_tree_T2VtM6tree_t1Si3VtM6tree_t1SSFPi2SS(new_root_1, x_0, &cmp_0, &v_3, 0), _fx_catch_1);
      FX_COPY_PTR(v_3.t0, &t_0);
      int_ dsz_0 = v_3.t1;
      if (t_0 != 0 == _FX_Vt11Set__tree_t_Node) {
         _fx_T4V12Set__color_tVt11Set__tree_t1SSVt11Set__tree_t1S* vcase_0 = &t_0->u.Node;
         if (vcase_0->t0.tag == _FX_V12Set__color_t_Red) {
            _fx_Vt11Set__tree_t1S v_7 = 0;
            FX_CALL(

                  _fx_M3SetFM4NodeVtM6tree_t1S4VM7color_tVtM6tree_t1SSVtM6tree_t1S(
                     &_fx_g10Set__Black, vcase_0->t1, &vcase_0->t2, vcase_0->t3, &v_7), _fx_catch_0);
            _fx_make_T2Vt11Set__tree_t1SB(v_7, false, &v_4);

         _fx_catch_0: ;
            if (v_7) { _fx_free_Vt11Set__tree_t1S(&v_7);
            }
            goto _fx_endmatch_0;
         }
      }
      _fx_make_T2Vt11Set__tree_t1SB(t_0, true, &v_4);

   _fx_endmatch_0: ;
      FX_CHECK_EXN(_fx_catch_1);
      FX_COPY_PTR(v_4.t0, &t_1);
      _fx_make_T2Vt11Set__tree_t1Si(t_1, dsz_0, &v_5);
      _fx_make_T2Vt11Set__tree_t1Si(t_1, v_2.t1 + dsz_0, &v_6);
      _fx_free_T2Vt11Set__tree_t1Si(&__fold_result___0);
      _fx_copy_T2Vt11Set__tree_t1Si(&v_6, &__fold_result___0);

   _fx_catch_1: ;
      _fx_free_T2Vt11Set__tree_t1Si(&v_6);
      _fx_free_T2Vt11Set__tree_t1Si(&v_5);
      if (t_1) { _fx_free_Vt11Set__tree_t1S(&t_1);
      }
      _fx_free_T2Vt11Set__tree_t1SB(&v_4);
      if (t_0) { _fx_free_Vt11Set__tree_t1S(&t_0);
      }
      _fx_free_T2Vt11Set__tree_t1Si(&v_3);
      if (new_root_1) { _fx_free_Vt11Set__tree_t1S(&new_root_1);
      }
      _fx_free_T2Vt11Set__tree_t1Si(&v_2);
      FX_CHECK_EXN(_fx_cleanup);
   }
   _fx_copy_T2Vt11Set__tree_t1Si(&__fold_result___0, &v_1);
   FX_COPY_PTR(v_1.t0, &new_root_0);
   int_ size_0 = v_1.t1;
   _fx_make_Rt6Set__t1S(new_root_0, size_0, &cmp_0, fx_result);

_fx_cleanup: ;
   FX_FREE_FP(&cmp_0);
   if (v_0) { _fx_free_Vt11Set__tree_t1S(&v_0);
   }
   _fx_free_T2Vt11Set__tree_t1Si(&__fold_result___0);
   _fx_free_T2Vt11Set__tree_t1Si(&v_1);
   if (new_root_0) { _fx_free_Vt11Set__tree_t1S(&new_root_0);
   }
   return fx_status;
}

FX_EXTERN_C int _fx_M3SetFM9from_listRtM1t1S2FPi2SSLS(
   _fx_FPi2SS* cmp_0, struct _fx_LS_data_t* l_0, _fx_Rt6Set__t1S* fx_result, void* fx_fv)
{
   _fx_Rt6Set__t1S v_0 = {  };
   int fx_status = 0;
   _fx_make_Rt6Set__t1S(_fx_g10Set__Empty, 0, cmp_0, &v_0);
   FX_CALL(_fx_M3SetFM8add_listRtM1t1S2RtM1t1SLS(&v_0, l_0, fx_result, 0), _fx_cleanup);

_fx_cleanup: ;
   _fx_free_Rt6Set__t1S(&v_0);
   return fx_status;
}

FX_EXTERN_C int _fx_M3SetFM12update_list_LV9Ast__id_t2VtM6tree_t1V9Ast__id_tLV9Ast__id_t(
   struct _fx_Vt11Set__tree_t1V9Ast__id_t_data_t* t_0,
      struct _fx_LV9Ast__id_t_data_t* res_0,
      struct _fx_LV9Ast__id_t_data_t** fx_result,
      void* fx_fv)
{
   _fx_LV9Ast__id_t res_1 = 0;
   _fx_Vt11Set__tree_t1V9Ast__id_t t_1 = 0;
   _fx_LV9Ast__id_t res_2 = 0;
   int fx_status = 0;
   FX_CALL(fx_check_stack(), _fx_cleanup);
   FX_COPY_PTR(t_0, &t_1);
   FX_COPY_PTR(res_0, &res_2);
   for (;;) {
      _fx_Vt11Set__tree_t1V9Ast__id_t t_2 = 0;
      _fx_LV9Ast__id_t res_3 = 0;
      FX_COPY_PTR(t_1, &t_2);
      FX_COPY_PTR(res_2, &res_3);
      if (t_2 != 0 == _FX_Vt11Set__tree_t_Node) {
         _fx_LV9Ast__id_t v_0 = 0;
         _fx_LV9Ast__id_t v_1 = 0;
         _fx_T4V12Set__color_tVt11Set__tree_t1V9Ast__id_tV9Ast__id_tVt11Set__tree_t1V9Ast__id_t* vcase_0 = &t_2->u.Node;
         FX_CALL(
            _fx_M3SetFM12update_list_LV9Ast__id_t2VtM6tree_t1V9Ast__id_tLV9Ast__id_t(vcase_0->t3, res_3, &v_0, 0), _fx_catch_0);
         FX_CALL(_fx_cons_LV9Ast__id_t(&vcase_0->t2, v_0, true, &v_1), _fx_catch_0);
         _fx_Vt11Set__tree_t1V9Ast__id_t* l_0 = &vcase_0->t1;
         _fx_free_Vt11Set__tree_t1V9Ast__id_t(&t_1);
         FX_COPY_PTR(*l_0, &t_1);
         FX_FREE_LIST_SIMPLE(&res_2);
         FX_COPY_PTR(v_1, &res_2);

      _fx_catch_0: ;
         FX_FREE_LIST_SIMPLE(&v_1);
         FX_FREE_LIST_SIMPLE(&v_0);
      }
      else { FX_FREE_LIST_SIMPLE(&res_1); FX_COPY_PTR(res_3, &res_1); FX_BREAK(_fx_catch_1);  _fx_catch_1: ;
      }
      FX_CHECK_EXN(_fx_catch_2);

   _fx_catch_2: ;
      FX_FREE_LIST_SIMPLE(&res_3);
      if (t_2) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&t_2);
      }
      FX_CHECK_BREAK();
      FX_CHECK_EXN(_fx_cleanup);
   }
   FX_COPY_PTR(res_1, fx_result);

_fx_cleanup: ;
   FX_FREE_LIST_SIMPLE(&res_1);
   if (t_1) { _fx_free_Vt11Set__tree_t1V9Ast__id_t(&t_1);
   }
   FX_FREE_LIST_SIMPLE(&res_2);
   return fx_status;
}

FX_EXTERN_C int fx_init_Set(void)
{
   FX_REG_SIMPLE_EXN("Set.RBSetError", _FX_EXN_E15Set__RBSetError, _fx_E15Set__RBSetError_info, _fx_E15Set__RBSetErrorv);
   int fx_status = 0;
   return fx_status;
}

FX_EXTERN_C void fx_deinit_Set(void)
{
}

